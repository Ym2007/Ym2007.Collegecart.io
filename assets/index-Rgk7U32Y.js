(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(u){if(u.ep)return;u.ep=!0;const c=s(u);fetch(u.href,c)}})();var Aa={exports:{}},ss={},Ia={exports:{}},ie={};var ad;function sp(){if(ad)return ie;ad=1;var i=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=b&&E[b]||E["@@iterator"],typeof E=="function"?E:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,N={};function P(E,L,se){this.props=E,this.context=L,this.refs=N,this.updater=se||k}P.prototype.isReactComponent={},P.prototype.setState=function(E,L){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,L,"setState")},P.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function U(){}U.prototype=P.prototype;function R(E,L,se){this.props=E,this.context=L,this.refs=N,this.updater=se||k}var A=R.prototype=new U;A.constructor=R,O(A,P.prototype),A.isPureReactComponent=!0;var K=Array.isArray,le=Object.prototype.hasOwnProperty,ee={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function Te(E,L,se){var oe,ue={},ce=null,pe=null;if(L!=null)for(oe in L.ref!==void 0&&(pe=L.ref),L.key!==void 0&&(ce=""+L.key),L)le.call(L,oe)&&!ne.hasOwnProperty(oe)&&(ue[oe]=L[oe]);var he=arguments.length-2;if(he===1)ue.children=se;else if(1<he){for(var we=Array(he),st=0;st<he;st++)we[st]=arguments[st+2];ue.children=we}if(E&&E.defaultProps)for(oe in he=E.defaultProps,he)ue[oe]===void 0&&(ue[oe]=he[oe]);return{$$typeof:i,type:E,key:ce,ref:pe,props:ue,_owner:ee.current}}function Le(E,L){return{$$typeof:i,type:E.type,key:L,ref:E.ref,props:E.props,_owner:E._owner}}function Ut(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function mr(E){var L={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(se){return L[se]})}var Ot=/\/+/g;function nt(E,L){return typeof E=="object"&&E!==null&&E.key!=null?mr(""+E.key):L.toString(36)}function wt(E,L,se,oe,ue){var ce=typeof E;(ce==="undefined"||ce==="boolean")&&(E=null);var pe=!1;if(E===null)pe=!0;else switch(ce){case"string":case"number":pe=!0;break;case"object":switch(E.$$typeof){case i:case r:pe=!0}}if(pe)return pe=E,ue=ue(pe),E=oe===""?"."+nt(pe,0):oe,K(ue)?(se="",E!=null&&(se=E.replace(Ot,"$&/")+"/"),wt(ue,L,se,"",function(st){return st})):ue!=null&&(Ut(ue)&&(ue=Le(ue,se+(!ue.key||pe&&pe.key===ue.key?"":(""+ue.key).replace(Ot,"$&/")+"/")+E)),L.push(ue)),1;if(pe=0,oe=oe===""?".":oe+":",K(E))for(var he=0;he<E.length;he++){ce=E[he];var we=oe+nt(ce,he);pe+=wt(ce,L,se,we,ue)}else if(we=S(E),typeof we=="function")for(E=we.call(E),he=0;!(ce=E.next()).done;)ce=ce.value,we=oe+nt(ce,he++),pe+=wt(ce,L,se,we,ue);else if(ce==="object")throw L=String(E),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return pe}function Rt(E,L,se){if(E==null)return E;var oe=[],ue=0;return wt(E,oe,"","",function(ce){return L.call(se,ce,ue++)}),oe}function Qe(E){if(E._status===-1){var L=E._result;L=L(),L.then(function(se){(E._status===0||E._status===-1)&&(E._status=1,E._result=se)},function(se){(E._status===0||E._status===-1)&&(E._status=2,E._result=se)}),E._status===-1&&(E._status=0,E._result=L)}if(E._status===1)return E._result.default;throw E._result}var be={current:null},M={transition:null},Z={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:M,ReactCurrentOwner:ee};function q(){throw Error("act(...) is not supported in production builds of React.")}return ie.Children={map:Rt,forEach:function(E,L,se){Rt(E,function(){L.apply(this,arguments)},se)},count:function(E){var L=0;return Rt(E,function(){L++}),L},toArray:function(E){return Rt(E,function(L){return L})||[]},only:function(E){if(!Ut(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ie.Component=P,ie.Fragment=s,ie.Profiler=u,ie.PureComponent=R,ie.StrictMode=a,ie.Suspense=g,ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,ie.act=q,ie.cloneElement=function(E,L,se){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var oe=O({},E.props),ue=E.key,ce=E.ref,pe=E._owner;if(L!=null){if(L.ref!==void 0&&(ce=L.ref,pe=ee.current),L.key!==void 0&&(ue=""+L.key),E.type&&E.type.defaultProps)var he=E.type.defaultProps;for(we in L)le.call(L,we)&&!ne.hasOwnProperty(we)&&(oe[we]=L[we]===void 0&&he!==void 0?he[we]:L[we])}var we=arguments.length-2;if(we===1)oe.children=se;else if(1<we){he=Array(we);for(var st=0;st<we;st++)he[st]=arguments[st+2];oe.children=he}return{$$typeof:i,type:E.type,key:ue,ref:ce,props:oe,_owner:pe}},ie.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},ie.createElement=Te,ie.createFactory=function(E){var L=Te.bind(null,E);return L.type=E,L},ie.createRef=function(){return{current:null}},ie.forwardRef=function(E){return{$$typeof:m,render:E}},ie.isValidElement=Ut,ie.lazy=function(E){return{$$typeof:x,_payload:{_status:-1,_result:E},_init:Qe}},ie.memo=function(E,L){return{$$typeof:y,type:E,compare:L===void 0?null:L}},ie.startTransition=function(E){var L=M.transition;M.transition={};try{E()}finally{M.transition=L}},ie.unstable_act=q,ie.useCallback=function(E,L){return be.current.useCallback(E,L)},ie.useContext=function(E){return be.current.useContext(E)},ie.useDebugValue=function(){},ie.useDeferredValue=function(E){return be.current.useDeferredValue(E)},ie.useEffect=function(E,L){return be.current.useEffect(E,L)},ie.useId=function(){return be.current.useId()},ie.useImperativeHandle=function(E,L,se){return be.current.useImperativeHandle(E,L,se)},ie.useInsertionEffect=function(E,L){return be.current.useInsertionEffect(E,L)},ie.useLayoutEffect=function(E,L){return be.current.useLayoutEffect(E,L)},ie.useMemo=function(E,L){return be.current.useMemo(E,L)},ie.useReducer=function(E,L,se){return be.current.useReducer(E,L,se)},ie.useRef=function(E){return be.current.useRef(E)},ie.useState=function(E){return be.current.useState(E)},ie.useSyncExternalStore=function(E,L,se){return be.current.useSyncExternalStore(E,L,se)},ie.useTransition=function(){return be.current.useTransition()},ie.version="18.3.1",ie}var ld;function il(){return ld||(ld=1,Ia.exports=sp()),Ia.exports}var ud;function ip(){if(ud)return ss;ud=1;var i=il(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,y){var x,b={},S=null,k=null;y!==void 0&&(S=""+y),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(k=g.ref);for(x in g)a.call(g,x)&&!c.hasOwnProperty(x)&&(b[x]=g[x]);if(m&&m.defaultProps)for(x in g=m.defaultProps,g)b[x]===void 0&&(b[x]=g[x]);return{$$typeof:r,type:m,key:S,ref:k,props:b,_owner:u.current}}return ss.Fragment=s,ss.jsx=h,ss.jsxs=h,ss}var cd;function op(){return cd||(cd=1,Aa.exports=ip()),Aa.exports}var f=op(),te=il(),ji={},La={exports:{}},rt={},$a={exports:{}},Ua={};var dd;function ap(){return dd||(dd=1,(function(i){function r(M,Z){var q=M.length;M.push(Z);e:for(;0<q;){var E=q-1>>>1,L=M[E];if(0<u(L,Z))M[E]=Z,M[q]=L,q=E;else break e}}function s(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var Z=M[0],q=M.pop();if(q!==Z){M[0]=q;e:for(var E=0,L=M.length,se=L>>>1;E<se;){var oe=2*(E+1)-1,ue=M[oe],ce=oe+1,pe=M[ce];if(0>u(ue,q))ce<L&&0>u(pe,ue)?(M[E]=pe,M[ce]=q,E=ce):(M[E]=ue,M[oe]=q,E=oe);else if(ce<L&&0>u(pe,q))M[E]=pe,M[ce]=q,E=ce;else break e}}return Z}function u(M,Z){var q=M.sortIndex-Z.sortIndex;return q!==0?q:M.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],y=[],x=1,b=null,S=3,k=!1,O=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(M){for(var Z=s(y);Z!==null;){if(Z.callback===null)a(y);else if(Z.startTime<=M)a(y),Z.sortIndex=Z.expirationTime,r(g,Z);else break;Z=s(y)}}function K(M){if(N=!1,A(M),!O)if(s(g)!==null)O=!0,Qe(le);else{var Z=s(y);Z!==null&&be(K,Z.startTime-M)}}function le(M,Z){O=!1,N&&(N=!1,U(Te),Te=-1),k=!0;var q=S;try{for(A(Z),b=s(g);b!==null&&(!(b.expirationTime>Z)||M&&!mr());){var E=b.callback;if(typeof E=="function"){b.callback=null,S=b.priorityLevel;var L=E(b.expirationTime<=Z);Z=i.unstable_now(),typeof L=="function"?b.callback=L:b===s(g)&&a(g),A(Z)}else a(g);b=s(g)}if(b!==null)var se=!0;else{var oe=s(y);oe!==null&&be(K,oe.startTime-Z),se=!1}return se}finally{b=null,S=q,k=!1}}var ee=!1,ne=null,Te=-1,Le=5,Ut=-1;function mr(){return!(i.unstable_now()-Ut<Le)}function Ot(){if(ne!==null){var M=i.unstable_now();Ut=M;var Z=!0;try{Z=ne(!0,M)}finally{Z?nt():(ee=!1,ne=null)}}else ee=!1}var nt;if(typeof R=="function")nt=function(){R(Ot)};else if(typeof MessageChannel<"u"){var wt=new MessageChannel,Rt=wt.port2;wt.port1.onmessage=Ot,nt=function(){Rt.postMessage(null)}}else nt=function(){P(Ot,0)};function Qe(M){ne=M,ee||(ee=!0,nt())}function be(M,Z){Te=P(function(){M(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_continueExecution=function(){O||k||(O=!0,Qe(le))},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Le=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_getFirstCallbackNode=function(){return s(g)},i.unstable_next=function(M){switch(S){case 1:case 2:case 3:var Z=3;break;default:Z=S}var q=S;S=Z;try{return M()}finally{S=q}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(M,Z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=S;S=M;try{return Z()}finally{S=q}},i.unstable_scheduleCallback=function(M,Z,q){var E=i.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?E+q:E):q=E,M){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=q+L,M={id:x++,callback:Z,priorityLevel:M,startTime:q,expirationTime:L,sortIndex:-1},q>E?(M.sortIndex=q,r(y,M),s(g)===null&&M===s(y)&&(N?(U(Te),Te=-1):N=!0,be(K,q-E))):(M.sortIndex=L,r(g,M),O||k||(O=!0,Qe(le))),M},i.unstable_shouldYield=mr,i.unstable_wrapCallback=function(M){var Z=S;return function(){var q=S;S=Z;try{return M.apply(this,arguments)}finally{S=q}}}})(Ua)),Ua}var hd;function lp(){return hd||(hd=1,$a.exports=ap()),$a.exports}var fd;function up(){if(fd)return rt;fd=1;var i=il(),r=lp();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},b={};function S(e){return g.call(b,e)?!0:g.call(x,e)?!1:y.test(e)?b[e]=!0:(x[e]=!0,!1)}function k(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,n,o){if(t===null||typeof t>"u"||k(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,n,o,l,d,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=p}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function R(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U,R);P[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U,R);P[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U,R);P[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,t,n,o){var l=P.hasOwnProperty(t)?P[t]:null;(l!==null?l.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,n,l,o)&&(n=null),o||l===null?S(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,o=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var K=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),ee=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),Te=Symbol.for("react.strict_mode"),Le=Symbol.for("react.profiler"),Ut=Symbol.for("react.provider"),mr=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),M=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,E;function L(e){if(E===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return`
`+E+e}var se=!1;function oe(e,t){if(!e||se)return"";se=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(C){var o=C}Reflect.construct(e,[],t)}else{try{t.call()}catch(C){o=C}e.call(t.prototype)}else{try{throw Error()}catch(C){o=C}e()}}catch(C){if(C&&o&&typeof C.stack=="string"){for(var l=C.stack.split(`
`),d=o.stack.split(`
`),p=l.length-1,v=d.length-1;1<=p&&0<=v&&l[p]!==d[v];)v--;for(;1<=p&&0<=v;p--,v--)if(l[p]!==d[v]){if(p!==1||v!==1)do if(p--,v--,0>v||l[p]!==d[v]){var w=`
`+l[p].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=p&&0<=v);break}}}finally{se=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function ue(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case ee:return"Portal";case Le:return"Profiler";case Te:return"StrictMode";case nt:return"Suspense";case wt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mr:return(e.displayName||"Context")+".Consumer";case Ut:return(e._context.displayName||"Context")+".Provider";case Ot:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rt:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case Qe:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function pe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===Te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function st(e){var t=we(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,d=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(p){o=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(p){o=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gs(e){e._valueTracker||(e._valueTracker=st(e))}function fl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=we(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function ys(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zi(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pl(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=he(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ml(e,t){t=t.checked,t!=null&&A(e,"checked",t,!1)}function Mi(e,t){ml(e,t);var n=he(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Bi(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function gl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Bi(e,t,n){(t!=="number"||ys(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wn=Array.isArray;function Lr(e,t,n,o){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&o&&(e[n].defaultSelected=!0)}else{for(n=""+he(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,o&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Fi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(wn(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:he(n)}}function vl(e,t){var n=he(t.value),o=he(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function wl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _l(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_l(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vs,xl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _n(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ah=["Webkit","ms","Moz","O"];Object.keys(xn).forEach(function(e){ah.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xn[t]=xn[e]})});function kl(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xn.hasOwnProperty(e)&&xn[e]?(""+t).trim():t+"px"}function Sl(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,l=kl(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,l):e[n]=l}}var lh=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wi(e,t){if(t){if(lh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Vi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hi=null;function Ki(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gi=null,$r=null,Ur=null;function bl(e){if(e=qn(e)){if(typeof Gi!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Bs(t),Gi(e.stateNode,e.type,t))}}function El(e){$r?Ur?Ur.push(e):Ur=[e]:$r=e}function jl(){if($r){var e=$r,t=Ur;if(Ur=$r=null,bl(e),t)for(e=0;e<t.length;e++)bl(t[e])}}function Tl(e,t){return e(t)}function Cl(){}var Ji=!1;function Nl(e,t,n){if(Ji)return e(t,n);Ji=!0;try{return Tl(e,t,n)}finally{Ji=!1,($r!==null||Ur!==null)&&(Cl(),jl())}}function kn(e,t){var n=e.stateNode;if(n===null)return null;var o=Bs(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Qi=!1;if(m)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{Qi=!1}function uh(e,t,n,o,l,d,p,v,w){var C=Array.prototype.slice.call(arguments,3);try{t.apply(n,C)}catch($){this.onError($)}}var bn=!1,ws=null,_s=!1,Yi=null,ch={onError:function(e){bn=!0,ws=e}};function dh(e,t,n,o,l,d,p,v,w){bn=!1,ws=null,uh.apply(ch,arguments)}function hh(e,t,n,o,l,d,p,v,w){if(dh.apply(this,arguments),bn){if(bn){var C=ws;bn=!1,ws=null}else throw Error(s(198));_s||(_s=!0,Yi=C)}}function gr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ol(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rl(e){if(gr(e)!==e)throw Error(s(188))}function fh(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,o=t;;){var l=n.return;if(l===null)break;var d=l.alternate;if(d===null){if(o=l.return,o!==null){n=o;continue}break}if(l.child===d.child){for(d=l.child;d;){if(d===n)return Rl(l),e;if(d===o)return Rl(l),t;d=d.sibling}throw Error(s(188))}if(n.return!==o.return)n=l,o=d;else{for(var p=!1,v=l.child;v;){if(v===n){p=!0,n=l,o=d;break}if(v===o){p=!0,o=l,n=d;break}v=v.sibling}if(!p){for(v=d.child;v;){if(v===n){p=!0,n=d,o=l;break}if(v===o){p=!0,o=d,n=l;break}v=v.sibling}if(!p)throw Error(s(189))}}if(n.alternate!==o)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function Pl(e){return e=fh(e),e!==null?Al(e):null}function Al(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Al(e);if(t!==null)return t;e=e.sibling}return null}var Il=r.unstable_scheduleCallback,Ll=r.unstable_cancelCallback,ph=r.unstable_shouldYield,mh=r.unstable_requestPaint,Ce=r.unstable_now,gh=r.unstable_getCurrentPriorityLevel,Xi=r.unstable_ImmediatePriority,$l=r.unstable_UserBlockingPriority,xs=r.unstable_NormalPriority,yh=r.unstable_LowPriority,Ul=r.unstable_IdlePriority,ks=null,Pt=null;function vh(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(ks,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:xh,wh=Math.log,_h=Math.LN2;function xh(e){return e>>>=0,e===0?32:31-(wh(e)/_h|0)|0}var Ss=64,bs=4194304;function En(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Es(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,l=e.suspendedLanes,d=e.pingedLanes,p=n&268435455;if(p!==0){var v=p&~l;v!==0?o=En(v):(d&=p,d!==0&&(o=En(d)))}else p=n&~l,p!==0?o=En(p):d!==0&&(o=En(d));if(o===0)return 0;if(t!==0&&t!==o&&(t&l)===0&&(l=o&-o,d=t&-t,l>=d||l===16&&(d&4194240)!==0))return t;if((o&4)!==0&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-_t(t),l=1<<n,o|=e[n],t&=~l;return o}function kh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sh(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,l=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-_t(d),v=1<<p,w=l[p];w===-1?((v&n)===0||(v&o)!==0)&&(l[p]=kh(v,t)):w<=t&&(e.expiredLanes|=v),d&=~v}}function Zi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Dl(){var e=Ss;return Ss<<=1,(Ss&4194240)===0&&(Ss=64),e}function eo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function jn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function bh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-_t(n),d=1<<l;t[l]=0,o[l]=-1,e[l]=-1,n&=~d}}function to(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-_t(n),l=1<<o;l&t|e[o]&t&&(e[o]|=t),n&=~l}}var fe=0;function zl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ml,ro,Bl,Fl,ql,no=!1,js=[],Gt=null,Jt=null,Qt=null,Tn=new Map,Cn=new Map,Yt=[],Eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wl(e,t){switch(e){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Tn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(t.pointerId)}}function Nn(e,t,n,o,l,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:d,targetContainers:[l]},t!==null&&(t=qn(t),t!==null&&ro(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function jh(e,t,n,o,l){switch(t){case"focusin":return Gt=Nn(Gt,e,t,n,o,l),!0;case"dragenter":return Jt=Nn(Jt,e,t,n,o,l),!0;case"mouseover":return Qt=Nn(Qt,e,t,n,o,l),!0;case"pointerover":var d=l.pointerId;return Tn.set(d,Nn(Tn.get(d)||null,e,t,n,o,l)),!0;case"gotpointercapture":return d=l.pointerId,Cn.set(d,Nn(Cn.get(d)||null,e,t,n,o,l)),!0}return!1}function Vl(e){var t=yr(e.target);if(t!==null){var n=gr(t);if(n!==null){if(t=n.tag,t===13){if(t=Ol(n),t!==null){e.blockedOn=t,ql(e.priority,function(){Bl(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=io(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Hi=o,n.target.dispatchEvent(o),Hi=null}else return t=qn(n),t!==null&&ro(t),e.blockedOn=n,!1;t.shift()}return!0}function Hl(e,t,n){Ts(e)&&n.delete(t)}function Th(){no=!1,Gt!==null&&Ts(Gt)&&(Gt=null),Jt!==null&&Ts(Jt)&&(Jt=null),Qt!==null&&Ts(Qt)&&(Qt=null),Tn.forEach(Hl),Cn.forEach(Hl)}function On(e,t){e.blockedOn===t&&(e.blockedOn=null,no||(no=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Th)))}function Rn(e){function t(l){return On(l,e)}if(0<js.length){On(js[0],e);for(var n=1;n<js.length;n++){var o=js[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Gt!==null&&On(Gt,e),Jt!==null&&On(Jt,e),Qt!==null&&On(Qt,e),Tn.forEach(t),Cn.forEach(t),n=0;n<Yt.length;n++)o=Yt[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)Vl(n),n.blockedOn===null&&Yt.shift()}var Dr=K.ReactCurrentBatchConfig,Cs=!0;function Ch(e,t,n,o){var l=fe,d=Dr.transition;Dr.transition=null;try{fe=1,so(e,t,n,o)}finally{fe=l,Dr.transition=d}}function Nh(e,t,n,o){var l=fe,d=Dr.transition;Dr.transition=null;try{fe=4,so(e,t,n,o)}finally{fe=l,Dr.transition=d}}function so(e,t,n,o){if(Cs){var l=io(e,t,n,o);if(l===null)So(e,t,o,Ns,n),Wl(e,o);else if(jh(l,e,t,n,o))o.stopPropagation();else if(Wl(e,o),t&4&&-1<Eh.indexOf(e)){for(;l!==null;){var d=qn(l);if(d!==null&&Ml(d),d=io(e,t,n,o),d===null&&So(e,t,o,Ns,n),d===l)break;l=d}l!==null&&o.stopPropagation()}else So(e,t,o,null,n)}}var Ns=null;function io(e,t,n,o){if(Ns=null,e=Ki(o),e=yr(e),e!==null)if(t=gr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ol(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ns=e,null}function Kl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gh()){case Xi:return 1;case $l:return 4;case xs:case yh:return 16;case Ul:return 536870912;default:return 16}default:return 16}}var Xt=null,oo=null,Os=null;function Gl(){if(Os)return Os;var e,t=oo,n=t.length,o,l="value"in Xt?Xt.value:Xt.textContent,d=l.length;for(e=0;e<n&&t[e]===l[e];e++);var p=n-e;for(o=1;o<=p&&t[n-o]===l[d-o];o++);return Os=l.slice(e,1<o?1-o:void 0)}function Rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ps(){return!0}function Jl(){return!1}function it(e){function t(n,o,l,d,p){this._reactName=n,this._targetInst=l,this.type=o,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ps:Jl,this.isPropagationStopped=Jl,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=it(zr),Pn=q({},zr,{view:0,detail:0}),Oh=it(Pn),lo,uo,An,As=q({},Pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==An&&(An&&e.type==="mousemove"?(lo=e.screenX-An.screenX,uo=e.screenY-An.screenY):uo=lo=0,An=e),lo)},movementY:function(e){return"movementY"in e?e.movementY:uo}}),Ql=it(As),Rh=q({},As,{dataTransfer:0}),Ph=it(Rh),Ah=q({},Pn,{relatedTarget:0}),co=it(Ah),Ih=q({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),Lh=it(Ih),$h=q({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Uh=it($h),Dh=q({},zr,{data:0}),Yl=it(Dh),zh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Bh[e])?!!t[e]:!1}function ho(){return Fh}var qh=q({},Pn,{key:function(e){if(e.key){var t=zh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wh=it(qh),Vh=q({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xl=it(Vh),Hh=q({},Pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),Kh=it(Hh),Gh=q({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jh=it(Gh),Qh=q({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yh=it(Qh),Xh=[9,13,27,32],fo=m&&"CompositionEvent"in window,In=null;m&&"documentMode"in document&&(In=document.documentMode);var Zh=m&&"TextEvent"in window&&!In,Zl=m&&(!fo||In&&8<In&&11>=In),eu=" ",tu=!1;function ru(e,t){switch(e){case"keyup":return Xh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function ef(e,t){switch(e){case"compositionend":return nu(t);case"keypress":return t.which!==32?null:(tu=!0,eu);case"textInput":return e=t.data,e===eu&&tu?null:e;default:return null}}function tf(e,t){if(Mr)return e==="compositionend"||!fo&&ru(e,t)?(e=Gl(),Os=oo=Xt=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zl&&t.locale!=="ko"?null:t.data;default:return null}}var rf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rf[e.type]:t==="textarea"}function iu(e,t,n,o){El(o),t=Ds(t,"onChange"),0<t.length&&(n=new ao("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Ln=null,$n=null;function nf(e){Su(e,0)}function Is(e){var t=Vr(e);if(fl(t))return e}function sf(e,t){if(e==="change")return t}var ou=!1;if(m){var po;if(m){var mo="oninput"in document;if(!mo){var au=document.createElement("div");au.setAttribute("oninput","return;"),mo=typeof au.oninput=="function"}po=mo}else po=!1;ou=po&&(!document.documentMode||9<document.documentMode)}function lu(){Ln&&(Ln.detachEvent("onpropertychange",uu),$n=Ln=null)}function uu(e){if(e.propertyName==="value"&&Is($n)){var t=[];iu(t,$n,e,Ki(e)),Nl(nf,t)}}function of(e,t,n){e==="focusin"?(lu(),Ln=t,$n=n,Ln.attachEvent("onpropertychange",uu)):e==="focusout"&&lu()}function af(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Is($n)}function lf(e,t){if(e==="click")return Is(t)}function uf(e,t){if(e==="input"||e==="change")return Is(t)}function cf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:cf;function Un(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var l=n[o];if(!g.call(t,l)||!xt(e[l],t[l]))return!1}return!0}function cu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function du(e,t){var n=cu(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cu(n)}}function hu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fu(){for(var e=window,t=ys();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ys(e.document)}return t}function go(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function df(e){var t=fu(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hu(n.ownerDocument.documentElement,n)){if(o!==null&&go(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,d=Math.min(o.start,l);o=o.end===void 0?d:Math.min(o.end,l),!e.extend&&d>o&&(l=o,o=d,d=l),l=du(n,d);var p=du(n,o);l&&p&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),d>o?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hf=m&&"documentMode"in document&&11>=document.documentMode,Br=null,yo=null,Dn=null,vo=!1;function pu(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vo||Br==null||Br!==ys(o)||(o=Br,"selectionStart"in o&&go(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Dn&&Un(Dn,o)||(Dn=o,o=Ds(yo,"onSelect"),0<o.length&&(t=new ao("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Br)))}function Ls(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fr={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},wo={},mu={};m&&(mu=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function $s(e){if(wo[e])return wo[e];if(!Fr[e])return e;var t=Fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mu)return wo[e]=t[n];return e}var gu=$s("animationend"),yu=$s("animationiteration"),vu=$s("animationstart"),wu=$s("transitionend"),_u=new Map,xu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(e,t){_u.set(e,t),c(t,[e])}for(var _o=0;_o<xu.length;_o++){var xo=xu[_o],ff=xo.toLowerCase(),pf=xo[0].toUpperCase()+xo.slice(1);Zt(ff,"on"+pf)}Zt(gu,"onAnimationEnd"),Zt(yu,"onAnimationIteration"),Zt(vu,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(wu,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(zn));function ku(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,hh(o,t,void 0,e),e.currentTarget=null}function Su(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],l=o.event;o=o.listeners;e:{var d=void 0;if(t)for(var p=o.length-1;0<=p;p--){var v=o[p],w=v.instance,C=v.currentTarget;if(v=v.listener,w!==d&&l.isPropagationStopped())break e;ku(l,v,C),d=w}else for(p=0;p<o.length;p++){if(v=o[p],w=v.instance,C=v.currentTarget,v=v.listener,w!==d&&l.isPropagationStopped())break e;ku(l,v,C),d=w}}}if(_s)throw e=Yi,_s=!1,Yi=null,e}function ye(e,t){var n=t[No];n===void 0&&(n=t[No]=new Set);var o=e+"__bubble";n.has(o)||(bu(t,e,2,!1),n.add(o))}function ko(e,t,n){var o=0;t&&(o|=4),bu(n,e,o,t)}var Us="_reactListening"+Math.random().toString(36).slice(2);function Mn(e){if(!e[Us]){e[Us]=!0,a.forEach(function(n){n!=="selectionchange"&&(mf.has(n)||ko(n,!1,e),ko(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Us]||(t[Us]=!0,ko("selectionchange",!1,t))}}function bu(e,t,n,o){switch(Kl(t)){case 1:var l=Ch;break;case 4:l=Nh;break;default:l=so}n=l.bind(null,t,n,e),l=void 0,!Qi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),o?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function So(e,t,n,o,l){var d=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var v=o.stateNode.containerInfo;if(v===l||v.nodeType===8&&v.parentNode===l)break;if(p===4)for(p=o.return;p!==null;){var w=p.tag;if((w===3||w===4)&&(w=p.stateNode.containerInfo,w===l||w.nodeType===8&&w.parentNode===l))return;p=p.return}for(;v!==null;){if(p=yr(v),p===null)return;if(w=p.tag,w===5||w===6){o=d=p;continue e}v=v.parentNode}}o=o.return}Nl(function(){var C=d,$=Ki(n),D=[];e:{var I=_u.get(e);if(I!==void 0){var B=ao,W=e;switch(e){case"keypress":if(Rs(n)===0)break e;case"keydown":case"keyup":B=Wh;break;case"focusin":W="focus",B=co;break;case"focusout":W="blur",B=co;break;case"beforeblur":case"afterblur":B=co;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Kh;break;case gu:case yu:case vu:B=Lh;break;case wu:B=Jh;break;case"scroll":B=Oh;break;case"wheel":B=Yh;break;case"copy":case"cut":case"paste":B=Uh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Xl}var V=(t&4)!==0,Ne=!V&&e==="scroll",j=V?I!==null?I+"Capture":null:I;V=[];for(var _=C,T;_!==null;){T=_;var z=T.stateNode;if(T.tag===5&&z!==null&&(T=z,j!==null&&(z=kn(_,j),z!=null&&V.push(Bn(_,z,T)))),Ne)break;_=_.return}0<V.length&&(I=new B(I,W,null,n,$),D.push({event:I,listeners:V}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",I&&n!==Hi&&(W=n.relatedTarget||n.fromElement)&&(yr(W)||W[Dt]))break e;if((B||I)&&(I=$.window===$?$:(I=$.ownerDocument)?I.defaultView||I.parentWindow:window,B?(W=n.relatedTarget||n.toElement,B=C,W=W?yr(W):null,W!==null&&(Ne=gr(W),W!==Ne||W.tag!==5&&W.tag!==6)&&(W=null)):(B=null,W=C),B!==W)){if(V=Ql,z="onMouseLeave",j="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(V=Xl,z="onPointerLeave",j="onPointerEnter",_="pointer"),Ne=B==null?I:Vr(B),T=W==null?I:Vr(W),I=new V(z,_+"leave",B,n,$),I.target=Ne,I.relatedTarget=T,z=null,yr($)===C&&(V=new V(j,_+"enter",W,n,$),V.target=T,V.relatedTarget=Ne,z=V),Ne=z,B&&W)t:{for(V=B,j=W,_=0,T=V;T;T=qr(T))_++;for(T=0,z=j;z;z=qr(z))T++;for(;0<_-T;)V=qr(V),_--;for(;0<T-_;)j=qr(j),T--;for(;_--;){if(V===j||j!==null&&V===j.alternate)break t;V=qr(V),j=qr(j)}V=null}else V=null;B!==null&&Eu(D,I,B,V,!1),W!==null&&Ne!==null&&Eu(D,Ne,W,V,!0)}}e:{if(I=C?Vr(C):window,B=I.nodeName&&I.nodeName.toLowerCase(),B==="select"||B==="input"&&I.type==="file")var H=sf;else if(su(I))if(ou)H=uf;else{H=af;var J=of}else(B=I.nodeName)&&B.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(H=lf);if(H&&(H=H(e,C))){iu(D,H,n,$);break e}J&&J(e,I,C),e==="focusout"&&(J=I._wrapperState)&&J.controlled&&I.type==="number"&&Bi(I,"number",I.value)}switch(J=C?Vr(C):window,e){case"focusin":(su(J)||J.contentEditable==="true")&&(Br=J,yo=C,Dn=null);break;case"focusout":Dn=yo=Br=null;break;case"mousedown":vo=!0;break;case"contextmenu":case"mouseup":case"dragend":vo=!1,pu(D,n,$);break;case"selectionchange":if(hf)break;case"keydown":case"keyup":pu(D,n,$)}var Q;if(fo)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Mr?ru(e,n)&&(re="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(re="onCompositionStart");re&&(Zl&&n.locale!=="ko"&&(Mr||re!=="onCompositionStart"?re==="onCompositionEnd"&&Mr&&(Q=Gl()):(Xt=$,oo="value"in Xt?Xt.value:Xt.textContent,Mr=!0)),J=Ds(C,re),0<J.length&&(re=new Yl(re,e,null,n,$),D.push({event:re,listeners:J}),Q?re.data=Q:(Q=nu(n),Q!==null&&(re.data=Q)))),(Q=Zh?ef(e,n):tf(e,n))&&(C=Ds(C,"onBeforeInput"),0<C.length&&($=new Yl("onBeforeInput","beforeinput",null,n,$),D.push({event:$,listeners:C}),$.data=Q))}Su(D,t)})}function Bn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ds(e,t){for(var n=t+"Capture",o=[];e!==null;){var l=e,d=l.stateNode;l.tag===5&&d!==null&&(l=d,d=kn(e,n),d!=null&&o.unshift(Bn(e,d,l)),d=kn(e,t),d!=null&&o.push(Bn(e,d,l))),e=e.return}return o}function qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eu(e,t,n,o,l){for(var d=t._reactName,p=[];n!==null&&n!==o;){var v=n,w=v.alternate,C=v.stateNode;if(w!==null&&w===o)break;v.tag===5&&C!==null&&(v=C,l?(w=kn(n,d),w!=null&&p.unshift(Bn(n,w,v))):l||(w=kn(n,d),w!=null&&p.push(Bn(n,w,v)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var gf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function ju(e){return(typeof e=="string"?e:""+e).replace(gf,`
`).replace(yf,"")}function zs(e,t,n){if(t=ju(t),ju(e)!==t&&n)throw Error(s(425))}function Ms(){}var bo=null,Eo=null;function jo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var To=typeof setTimeout=="function"?setTimeout:void 0,vf=typeof clearTimeout=="function"?clearTimeout:void 0,Tu=typeof Promise=="function"?Promise:void 0,wf=typeof queueMicrotask=="function"?queueMicrotask:typeof Tu<"u"?function(e){return Tu.resolve(null).then(e).catch(_f)}:To;function _f(e){setTimeout(function(){throw e})}function Co(e,t){var n=t,o=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(o===0){e.removeChild(l),Rn(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=l}while(n);Rn(t)}function er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Wr=Math.random().toString(36).slice(2),At="__reactFiber$"+Wr,Fn="__reactProps$"+Wr,Dt="__reactContainer$"+Wr,No="__reactEvents$"+Wr,xf="__reactListeners$"+Wr,kf="__reactHandles$"+Wr;function yr(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cu(e);e!==null;){if(n=e[At])return n;e=Cu(e)}return t}e=n,n=e.parentNode}return null}function qn(e){return e=e[At]||e[Dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Bs(e){return e[Fn]||null}var Oo=[],Hr=-1;function tr(e){return{current:e}}function ve(e){0>Hr||(e.current=Oo[Hr],Oo[Hr]=null,Hr--)}function me(e,t){Hr++,Oo[Hr]=e.current,e.current=t}var rr={},We=tr(rr),Ye=tr(!1),vr=rr;function Kr(e,t){var n=e.type.contextTypes;if(!n)return rr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var l={},d;for(d in n)l[d]=t[d];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Xe(e){return e=e.childContextTypes,e!=null}function Fs(){ve(Ye),ve(We)}function Nu(e,t,n){if(We.current!==rr)throw Error(s(168));me(We,t),me(Ye,n)}function Ou(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var l in o)if(!(l in t))throw Error(s(108,pe(e)||"Unknown",l));return q({},n,o)}function qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rr,vr=We.current,me(We,e),me(Ye,Ye.current),!0}function Ru(e,t,n){var o=e.stateNode;if(!o)throw Error(s(169));n?(e=Ou(e,t,vr),o.__reactInternalMemoizedMergedChildContext=e,ve(Ye),ve(We),me(We,e)):ve(Ye),me(Ye,n)}var zt=null,Ws=!1,Ro=!1;function Pu(e){zt===null?zt=[e]:zt.push(e)}function Sf(e){Ws=!0,Pu(e)}function nr(){if(!Ro&&zt!==null){Ro=!0;var e=0,t=fe;try{var n=zt;for(fe=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}zt=null,Ws=!1}catch(l){throw zt!==null&&(zt=zt.slice(e+1)),Il(Xi,nr),l}finally{fe=t,Ro=!1}}return null}var Gr=[],Jr=0,Vs=null,Hs=0,ft=[],pt=0,wr=null,Mt=1,Bt="";function _r(e,t){Gr[Jr++]=Hs,Gr[Jr++]=Vs,Vs=e,Hs=t}function Au(e,t,n){ft[pt++]=Mt,ft[pt++]=Bt,ft[pt++]=wr,wr=e;var o=Mt;e=Bt;var l=32-_t(o)-1;o&=~(1<<l),n+=1;var d=32-_t(t)+l;if(30<d){var p=l-l%5;d=(o&(1<<p)-1).toString(32),o>>=p,l-=p,Mt=1<<32-_t(t)+l|n<<l|o,Bt=d+e}else Mt=1<<d|n<<l|o,Bt=e}function Po(e){e.return!==null&&(_r(e,1),Au(e,1,0))}function Ao(e){for(;e===Vs;)Vs=Gr[--Jr],Gr[Jr]=null,Hs=Gr[--Jr],Gr[Jr]=null;for(;e===wr;)wr=ft[--pt],ft[pt]=null,Bt=ft[--pt],ft[pt]=null,Mt=ft[--pt],ft[pt]=null}var ot=null,at=null,_e=!1,kt=null;function Iu(e,t){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,at=er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=wr!==null?{id:Mt,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,at=null,!0):!1;default:return!1}}function Io(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lo(e){if(_e){var t=at;if(t){var n=t;if(!Lu(e,t)){if(Io(e))throw Error(s(418));t=er(n.nextSibling);var o=ot;t&&Lu(e,t)?Iu(o,n):(e.flags=e.flags&-4097|2,_e=!1,ot=e)}}else{if(Io(e))throw Error(s(418));e.flags=e.flags&-4097|2,_e=!1,ot=e}}}function $u(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function Ks(e){if(e!==ot)return!1;if(!_e)return $u(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jo(e.type,e.memoizedProps)),t&&(t=at)){if(Io(e))throw Uu(),Error(s(418));for(;t;)Iu(e,t),t=er(t.nextSibling)}if($u(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){at=er(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}at=null}}else at=ot?er(e.stateNode.nextSibling):null;return!0}function Uu(){for(var e=at;e;)e=er(e.nextSibling)}function Qr(){at=ot=null,_e=!1}function $o(e){kt===null?kt=[e]:kt.push(e)}var bf=K.ReactCurrentBatchConfig;function Wn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var o=n.stateNode}if(!o)throw Error(s(147,e));var l=o,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(p){var v=l.refs;p===null?delete v[d]:v[d]=p},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Du(e){var t=e._init;return t(e._payload)}function zu(e){function t(j,_){if(e){var T=j.deletions;T===null?(j.deletions=[_],j.flags|=16):T.push(_)}}function n(j,_){if(!e)return null;for(;_!==null;)t(j,_),_=_.sibling;return null}function o(j,_){for(j=new Map;_!==null;)_.key!==null?j.set(_.key,_):j.set(_.index,_),_=_.sibling;return j}function l(j,_){return j=dr(j,_),j.index=0,j.sibling=null,j}function d(j,_,T){return j.index=T,e?(T=j.alternate,T!==null?(T=T.index,T<_?(j.flags|=2,_):T):(j.flags|=2,_)):(j.flags|=1048576,_)}function p(j){return e&&j.alternate===null&&(j.flags|=2),j}function v(j,_,T,z){return _===null||_.tag!==6?(_=Ta(T,j.mode,z),_.return=j,_):(_=l(_,T),_.return=j,_)}function w(j,_,T,z){var H=T.type;return H===ne?$(j,_,T.props.children,z,T.key):_!==null&&(_.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Qe&&Du(H)===_.type)?(z=l(_,T.props),z.ref=Wn(j,_,T),z.return=j,z):(z=vi(T.type,T.key,T.props,null,j.mode,z),z.ref=Wn(j,_,T),z.return=j,z)}function C(j,_,T,z){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=Ca(T,j.mode,z),_.return=j,_):(_=l(_,T.children||[]),_.return=j,_)}function $(j,_,T,z,H){return _===null||_.tag!==7?(_=Cr(T,j.mode,z,H),_.return=j,_):(_=l(_,T),_.return=j,_)}function D(j,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ta(""+_,j.mode,T),_.return=j,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case le:return T=vi(_.type,_.key,_.props,null,j.mode,T),T.ref=Wn(j,null,_),T.return=j,T;case ee:return _=Ca(_,j.mode,T),_.return=j,_;case Qe:var z=_._init;return D(j,z(_._payload),T)}if(wn(_)||Z(_))return _=Cr(_,j.mode,T,null),_.return=j,_;Gs(j,_)}return null}function I(j,_,T,z){var H=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return H!==null?null:v(j,_,""+T,z);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case le:return T.key===H?w(j,_,T,z):null;case ee:return T.key===H?C(j,_,T,z):null;case Qe:return H=T._init,I(j,_,H(T._payload),z)}if(wn(T)||Z(T))return H!==null?null:$(j,_,T,z,null);Gs(j,T)}return null}function B(j,_,T,z,H){if(typeof z=="string"&&z!==""||typeof z=="number")return j=j.get(T)||null,v(_,j,""+z,H);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case le:return j=j.get(z.key===null?T:z.key)||null,w(_,j,z,H);case ee:return j=j.get(z.key===null?T:z.key)||null,C(_,j,z,H);case Qe:var J=z._init;return B(j,_,T,J(z._payload),H)}if(wn(z)||Z(z))return j=j.get(T)||null,$(_,j,z,H,null);Gs(_,z)}return null}function W(j,_,T,z){for(var H=null,J=null,Q=_,re=_=0,De=null;Q!==null&&re<T.length;re++){Q.index>re?(De=Q,Q=null):De=Q.sibling;var de=I(j,Q,T[re],z);if(de===null){Q===null&&(Q=De);break}e&&Q&&de.alternate===null&&t(j,Q),_=d(de,_,re),J===null?H=de:J.sibling=de,J=de,Q=De}if(re===T.length)return n(j,Q),_e&&_r(j,re),H;if(Q===null){for(;re<T.length;re++)Q=D(j,T[re],z),Q!==null&&(_=d(Q,_,re),J===null?H=Q:J.sibling=Q,J=Q);return _e&&_r(j,re),H}for(Q=o(j,Q);re<T.length;re++)De=B(Q,j,re,T[re],z),De!==null&&(e&&De.alternate!==null&&Q.delete(De.key===null?re:De.key),_=d(De,_,re),J===null?H=De:J.sibling=De,J=De);return e&&Q.forEach(function(hr){return t(j,hr)}),_e&&_r(j,re),H}function V(j,_,T,z){var H=Z(T);if(typeof H!="function")throw Error(s(150));if(T=H.call(T),T==null)throw Error(s(151));for(var J=H=null,Q=_,re=_=0,De=null,de=T.next();Q!==null&&!de.done;re++,de=T.next()){Q.index>re?(De=Q,Q=null):De=Q.sibling;var hr=I(j,Q,de.value,z);if(hr===null){Q===null&&(Q=De);break}e&&Q&&hr.alternate===null&&t(j,Q),_=d(hr,_,re),J===null?H=hr:J.sibling=hr,J=hr,Q=De}if(de.done)return n(j,Q),_e&&_r(j,re),H;if(Q===null){for(;!de.done;re++,de=T.next())de=D(j,de.value,z),de!==null&&(_=d(de,_,re),J===null?H=de:J.sibling=de,J=de);return _e&&_r(j,re),H}for(Q=o(j,Q);!de.done;re++,de=T.next())de=B(Q,j,re,de.value,z),de!==null&&(e&&de.alternate!==null&&Q.delete(de.key===null?re:de.key),_=d(de,_,re),J===null?H=de:J.sibling=de,J=de);return e&&Q.forEach(function(np){return t(j,np)}),_e&&_r(j,re),H}function Ne(j,_,T,z){if(typeof T=="object"&&T!==null&&T.type===ne&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case le:e:{for(var H=T.key,J=_;J!==null;){if(J.key===H){if(H=T.type,H===ne){if(J.tag===7){n(j,J.sibling),_=l(J,T.props.children),_.return=j,j=_;break e}}else if(J.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===Qe&&Du(H)===J.type){n(j,J.sibling),_=l(J,T.props),_.ref=Wn(j,J,T),_.return=j,j=_;break e}n(j,J);break}else t(j,J);J=J.sibling}T.type===ne?(_=Cr(T.props.children,j.mode,z,T.key),_.return=j,j=_):(z=vi(T.type,T.key,T.props,null,j.mode,z),z.ref=Wn(j,_,T),z.return=j,j=z)}return p(j);case ee:e:{for(J=T.key;_!==null;){if(_.key===J)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(j,_.sibling),_=l(_,T.children||[]),_.return=j,j=_;break e}else{n(j,_);break}else t(j,_);_=_.sibling}_=Ca(T,j.mode,z),_.return=j,j=_}return p(j);case Qe:return J=T._init,Ne(j,_,J(T._payload),z)}if(wn(T))return W(j,_,T,z);if(Z(T))return V(j,_,T,z);Gs(j,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(j,_.sibling),_=l(_,T),_.return=j,j=_):(n(j,_),_=Ta(T,j.mode,z),_.return=j,j=_),p(j)):n(j,_)}return Ne}var Yr=zu(!0),Mu=zu(!1),Js=tr(null),Qs=null,Xr=null,Uo=null;function Do(){Uo=Xr=Qs=null}function zo(e){var t=Js.current;ve(Js),e._currentValue=t}function Mo(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Zr(e,t){Qs=e,Uo=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ze=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(Uo!==e)if(e={context:e,memoizedValue:t,next:null},Xr===null){if(Qs===null)throw Error(s(308));Xr=e,Qs.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return t}var xr=null;function Bo(e){xr===null?xr=[e]:xr.push(e)}function Bu(e,t,n,o){var l=t.interleaved;return l===null?(n.next=n,Bo(t)):(n.next=l.next,l.next=n),t.interleaved=n,Ft(e,o)}function Ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sr=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ir(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ae&2)!==0){var l=o.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),o.pending=t,Ft(e,n)}return l=o.interleaved,l===null?(t.next=t,Bo(o)):(t.next=l.next,l.next=t),o.interleaved=t,Ft(e,n)}function Ys(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,to(e,n)}}function qu(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var l=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};d===null?l=d=p:d=d.next=p,n=n.next}while(n!==null);d===null?l=d=t:d=d.next=t}else l=d=t;n={baseState:o.baseState,firstBaseUpdate:l,lastBaseUpdate:d,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xs(e,t,n,o){var l=e.updateQueue;sr=!1;var d=l.firstBaseUpdate,p=l.lastBaseUpdate,v=l.shared.pending;if(v!==null){l.shared.pending=null;var w=v,C=w.next;w.next=null,p===null?d=C:p.next=C,p=w;var $=e.alternate;$!==null&&($=$.updateQueue,v=$.lastBaseUpdate,v!==p&&(v===null?$.firstBaseUpdate=C:v.next=C,$.lastBaseUpdate=w))}if(d!==null){var D=l.baseState;p=0,$=C=w=null,v=d;do{var I=v.lane,B=v.eventTime;if((o&I)===I){$!==null&&($=$.next={eventTime:B,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var W=e,V=v;switch(I=t,B=n,V.tag){case 1:if(W=V.payload,typeof W=="function"){D=W.call(B,D,I);break e}D=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=V.payload,I=typeof W=="function"?W.call(B,D,I):W,I==null)break e;D=q({},D,I);break e;case 2:sr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,I=l.effects,I===null?l.effects=[v]:I.push(v))}else B={eventTime:B,lane:I,tag:v.tag,payload:v.payload,callback:v.callback,next:null},$===null?(C=$=B,w=D):$=$.next=B,p|=I;if(v=v.next,v===null){if(v=l.shared.pending,v===null)break;I=v,v=I.next,I.next=null,l.lastBaseUpdate=I,l.shared.pending=null}}while(!0);if($===null&&(w=D),l.baseState=w,l.firstBaseUpdate=C,l.lastBaseUpdate=$,t=l.shared.interleaved,t!==null){l=t;do p|=l.lane,l=l.next;while(l!==t)}else d===null&&(l.shared.lanes=0);br|=p,e.lanes=p,e.memoizedState=D}}function Wu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],l=o.callback;if(l!==null){if(o.callback=null,o=n,typeof l!="function")throw Error(s(191,l));l.call(o)}}}var Vn={},It=tr(Vn),Hn=tr(Vn),Kn=tr(Vn);function kr(e){if(e===Vn)throw Error(s(174));return e}function qo(e,t){switch(me(Kn,t),me(Hn,e),me(It,Vn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:qi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=qi(t,e)}ve(It),me(It,t)}function en(){ve(It),ve(Hn),ve(Kn)}function Vu(e){kr(Kn.current);var t=kr(It.current),n=qi(t,e.type);t!==n&&(me(Hn,e),me(It,n))}function Wo(e){Hn.current===e&&(ve(It),ve(Hn))}var xe=tr(0);function Zs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=[];function Ho(){for(var e=0;e<Vo.length;e++)Vo[e]._workInProgressVersionPrimary=null;Vo.length=0}var ei=K.ReactCurrentDispatcher,Ko=K.ReactCurrentBatchConfig,Sr=0,ke=null,Pe=null,$e=null,ti=!1,Gn=!1,Jn=0,Ef=0;function Ve(){throw Error(s(321))}function Go(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function Jo(e,t,n,o,l,d){if(Sr=d,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ei.current=e===null||e.memoizedState===null?Nf:Of,e=n(o,l),Gn){d=0;do{if(Gn=!1,Jn=0,25<=d)throw Error(s(301));d+=1,$e=Pe=null,t.updateQueue=null,ei.current=Rf,e=n(o,l)}while(Gn)}if(ei.current=si,t=Pe!==null&&Pe.next!==null,Sr=0,$e=Pe=ke=null,ti=!1,t)throw Error(s(300));return e}function Qo(){var e=Jn!==0;return Jn=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ke.memoizedState=$e=e:$e=$e.next=e,$e}function gt(){if(Pe===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=$e===null?ke.memoizedState:$e.next;if(t!==null)$e=t,Pe=e;else{if(e===null)throw Error(s(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},$e===null?ke.memoizedState=$e=e:$e=$e.next=e}return $e}function Qn(e,t){return typeof t=="function"?t(e):t}function Yo(e){var t=gt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var o=Pe,l=o.baseQueue,d=n.pending;if(d!==null){if(l!==null){var p=l.next;l.next=d.next,d.next=p}o.baseQueue=l=d,n.pending=null}if(l!==null){d=l.next,o=o.baseState;var v=p=null,w=null,C=d;do{var $=C.lane;if((Sr&$)===$)w!==null&&(w=w.next={lane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),o=C.hasEagerState?C.eagerState:e(o,C.action);else{var D={lane:$,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null};w===null?(v=w=D,p=o):w=w.next=D,ke.lanes|=$,br|=$}C=C.next}while(C!==null&&C!==d);w===null?p=o:w.next=v,xt(o,t.memoizedState)||(Ze=!0),t.memoizedState=o,t.baseState=p,t.baseQueue=w,n.lastRenderedState=o}if(e=n.interleaved,e!==null){l=e;do d=l.lane,ke.lanes|=d,br|=d,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xo(e){var t=gt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var o=n.dispatch,l=n.pending,d=t.memoizedState;if(l!==null){n.pending=null;var p=l=l.next;do d=e(d,p.action),p=p.next;while(p!==l);xt(d,t.memoizedState)||(Ze=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,o]}function Hu(){}function Ku(e,t){var n=ke,o=gt(),l=t(),d=!xt(o.memoizedState,l);if(d&&(o.memoizedState=l,Ze=!0),o=o.queue,Zo(Qu.bind(null,n,o,e),[e]),o.getSnapshot!==t||d||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,Yn(9,Ju.bind(null,n,o,l,t),void 0,null),Ue===null)throw Error(s(349));(Sr&30)!==0||Gu(n,t,l)}return l}function Gu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ju(e,t,n,o){t.value=n,t.getSnapshot=o,Yu(t)&&Xu(e)}function Qu(e,t,n){return n(function(){Yu(t)&&Xu(e)})}function Yu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function Xu(e){var t=Ft(e,1);t!==null&&jt(t,e,1,-1)}function Zu(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:e},t.queue=e,e=e.dispatch=Cf.bind(null,ke,e),[t.memoizedState,e]}function Yn(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function ec(){return gt().memoizedState}function ri(e,t,n,o){var l=Lt();ke.flags|=e,l.memoizedState=Yn(1|t,n,void 0,o===void 0?null:o)}function ni(e,t,n,o){var l=gt();o=o===void 0?null:o;var d=void 0;if(Pe!==null){var p=Pe.memoizedState;if(d=p.destroy,o!==null&&Go(o,p.deps)){l.memoizedState=Yn(t,n,d,o);return}}ke.flags|=e,l.memoizedState=Yn(1|t,n,d,o)}function tc(e,t){return ri(8390656,8,e,t)}function Zo(e,t){return ni(2048,8,e,t)}function rc(e,t){return ni(4,2,e,t)}function nc(e,t){return ni(4,4,e,t)}function sc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ic(e,t,n){return n=n!=null?n.concat([e]):null,ni(4,4,sc.bind(null,t,e),n)}function ea(){}function oc(e,t){var n=gt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Go(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function ac(e,t){var n=gt();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Go(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function lc(e,t,n){return(Sr&21)===0?(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=n):(xt(n,t)||(n=Dl(),ke.lanes|=n,br|=n,e.baseState=!0),t)}function jf(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var o=Ko.transition;Ko.transition={};try{e(!1),t()}finally{fe=n,Ko.transition=o}}function uc(){return gt().memoizedState}function Tf(e,t,n){var o=ur(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},cc(e))dc(t,n);else if(n=Bu(e,t,n,o),n!==null){var l=Je();jt(n,e,o,l),hc(n,t,o)}}function Cf(e,t,n){var o=ur(e),l={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(cc(e))dc(t,l);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,v=d(p,n);if(l.hasEagerState=!0,l.eagerState=v,xt(v,p)){var w=t.interleaved;w===null?(l.next=l,Bo(t)):(l.next=w.next,w.next=l),t.interleaved=l;return}}catch{}n=Bu(e,t,l,o),n!==null&&(l=Je(),jt(n,e,o,l),hc(n,t,o))}}function cc(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function dc(e,t){Gn=ti=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hc(e,t,n){if((n&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,to(e,n)}}var si={readContext:mt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},Nf={readContext:mt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:tc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ri(4194308,4,sc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return ri(4,2,e,t)},useMemo:function(e,t){var n=Lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Lt();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Tf.bind(null,ke,e),[o.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:Zu,useDebugValue:ea,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=Zu(!1),t=e[0];return e=jf.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=ke,l=Lt();if(_e){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Ue===null)throw Error(s(349));(Sr&30)!==0||Gu(o,t,n)}l.memoizedState=n;var d={value:n,getSnapshot:t};return l.queue=d,tc(Qu.bind(null,o,d,e),[e]),o.flags|=2048,Yn(9,Ju.bind(null,o,d,n,t),void 0,null),n},useId:function(){var e=Lt(),t=Ue.identifierPrefix;if(_e){var n=Bt,o=Mt;n=(o&~(1<<32-_t(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jn++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ef++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Of={readContext:mt,useCallback:oc,useContext:mt,useEffect:Zo,useImperativeHandle:ic,useInsertionEffect:rc,useLayoutEffect:nc,useMemo:ac,useReducer:Yo,useRef:ec,useState:function(){return Yo(Qn)},useDebugValue:ea,useDeferredValue:function(e){var t=gt();return lc(t,Pe.memoizedState,e)},useTransition:function(){var e=Yo(Qn)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Hu,useSyncExternalStore:Ku,useId:uc,unstable_isNewReconciler:!1},Rf={readContext:mt,useCallback:oc,useContext:mt,useEffect:Zo,useImperativeHandle:ic,useInsertionEffect:rc,useLayoutEffect:nc,useMemo:ac,useReducer:Xo,useRef:ec,useState:function(){return Xo(Qn)},useDebugValue:ea,useDeferredValue:function(e){var t=gt();return Pe===null?t.memoizedState=e:lc(t,Pe.memoizedState,e)},useTransition:function(){var e=Xo(Qn)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Hu,useSyncExternalStore:Ku,useId:uc,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ta(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ii={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Je(),l=ur(e),d=qt(o,l);d.payload=t,n!=null&&(d.callback=n),t=ir(e,d,l),t!==null&&(jt(t,e,l,o),Ys(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Je(),l=ur(e),d=qt(o,l);d.tag=1,d.payload=t,n!=null&&(d.callback=n),t=ir(e,d,l),t!==null&&(jt(t,e,l,o),Ys(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),o=ur(e),l=qt(n,o);l.tag=2,t!=null&&(l.callback=t),t=ir(e,l,o),t!==null&&(jt(t,e,o,n),Ys(t,e,o))}};function fc(e,t,n,o,l,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,p):t.prototype&&t.prototype.isPureReactComponent?!Un(n,o)||!Un(l,d):!0}function pc(e,t,n){var o=!1,l=rr,d=t.contextType;return typeof d=="object"&&d!==null?d=mt(d):(l=Xe(t)?vr:We.current,o=t.contextTypes,d=(o=o!=null)?Kr(e,l):rr),t=new t(n,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ii,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=d),t}function mc(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&ii.enqueueReplaceState(t,t.state,null)}function ra(e,t,n,o){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Fo(e);var d=t.contextType;typeof d=="object"&&d!==null?l.context=mt(d):(d=Xe(t)?vr:We.current,l.context=Kr(e,d)),l.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(ta(e,t,d,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&ii.enqueueReplaceState(l,l.state,null),Xs(e,n,l,o),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function tn(e,t){try{var n="",o=t;do n+=ue(o),o=o.return;while(o);var l=n}catch(d){l=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:l,digest:null}}function na(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Pf=typeof WeakMap=="function"?WeakMap:Map;function gc(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){hi||(hi=!0,wa=o),sa(e,t)},n}function yc(e,t,n){n=qt(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var l=t.value;n.payload=function(){return o(l)},n.callback=function(){sa(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(n.callback=function(){sa(e,t),typeof o!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function vc(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new Pf;var l=new Set;o.set(t,l)}else l=o.get(t),l===void 0&&(l=new Set,o.set(t,l));l.has(n)||(l.add(n),e=Hf.bind(null,e,t,n),t.then(e,e))}function wc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _c(e,t,n,o,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,ir(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var Af=K.ReactCurrentOwner,Ze=!1;function Ge(e,t,n,o){t.child=e===null?Mu(t,null,n,o):Yr(t,e.child,n,o)}function xc(e,t,n,o,l){n=n.render;var d=t.ref;return Zr(t,l),o=Jo(e,t,n,o,d,l),n=Qo(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Wt(e,t,l)):(_e&&n&&Po(t),t.flags|=1,Ge(e,t,o,l),t.child)}function kc(e,t,n,o,l){if(e===null){var d=n.type;return typeof d=="function"&&!ja(d)&&d.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=d,Sc(e,t,d,o,l)):(e=vi(n.type,null,o,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&l)===0){var p=d.memoizedProps;if(n=n.compare,n=n!==null?n:Un,n(p,o)&&e.ref===t.ref)return Wt(e,t,l)}return t.flags|=1,e=dr(d,o),e.ref=t.ref,e.return=t,t.child=e}function Sc(e,t,n,o,l){if(e!==null){var d=e.memoizedProps;if(Un(d,o)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=o=d,(e.lanes&l)!==0)(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,Wt(e,t,l)}return ia(e,t,n,o,l)}function bc(e,t,n){var o=t.pendingProps,l=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(nn,lt),lt|=n;else{if((n&1073741824)===0)return e=d!==null?d.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(nn,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=d!==null?d.baseLanes:n,me(nn,lt),lt|=o}else d!==null?(o=d.baseLanes|n,t.memoizedState=null):o=n,me(nn,lt),lt|=o;return Ge(e,t,l,n),t.child}function Ec(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ia(e,t,n,o,l){var d=Xe(n)?vr:We.current;return d=Kr(t,d),Zr(t,l),n=Jo(e,t,n,o,d,l),o=Qo(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Wt(e,t,l)):(_e&&o&&Po(t),t.flags|=1,Ge(e,t,n,l),t.child)}function jc(e,t,n,o,l){if(Xe(n)){var d=!0;qs(t)}else d=!1;if(Zr(t,l),t.stateNode===null)ai(e,t),pc(t,n,o),ra(t,n,o,l),o=!0;else if(e===null){var p=t.stateNode,v=t.memoizedProps;p.props=v;var w=p.context,C=n.contextType;typeof C=="object"&&C!==null?C=mt(C):(C=Xe(n)?vr:We.current,C=Kr(t,C));var $=n.getDerivedStateFromProps,D=typeof $=="function"||typeof p.getSnapshotBeforeUpdate=="function";D||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==o||w!==C)&&mc(t,p,o,C),sr=!1;var I=t.memoizedState;p.state=I,Xs(t,o,p,l),w=t.memoizedState,v!==o||I!==w||Ye.current||sr?(typeof $=="function"&&(ta(t,n,$,o),w=t.memoizedState),(v=sr||fc(t,n,v,o,I,w,C))?(D||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=w),p.props=o,p.state=w,p.context=C,o=v):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{p=t.stateNode,Fu(e,t),v=t.memoizedProps,C=t.type===t.elementType?v:St(t.type,v),p.props=C,D=t.pendingProps,I=p.context,w=n.contextType,typeof w=="object"&&w!==null?w=mt(w):(w=Xe(n)?vr:We.current,w=Kr(t,w));var B=n.getDerivedStateFromProps;($=typeof B=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==D||I!==w)&&mc(t,p,o,w),sr=!1,I=t.memoizedState,p.state=I,Xs(t,o,p,l);var W=t.memoizedState;v!==D||I!==W||Ye.current||sr?(typeof B=="function"&&(ta(t,n,B,o),W=t.memoizedState),(C=sr||fc(t,n,C,o,I,W,w)||!1)?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,W,w),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,W,w)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=W),p.props=o,p.state=W,p.context=w,o=C):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),o=!1)}return oa(e,t,n,o,d,l)}function oa(e,t,n,o,l,d){Ec(e,t);var p=(t.flags&128)!==0;if(!o&&!p)return l&&Ru(t,n,!1),Wt(e,t,d);o=t.stateNode,Af.current=t;var v=p&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&p?(t.child=Yr(t,e.child,null,d),t.child=Yr(t,null,v,d)):Ge(e,t,v,d),t.memoizedState=o.state,l&&Ru(t,n,!0),t.child}function Tc(e){var t=e.stateNode;t.pendingContext?Nu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nu(e,t.context,!1),qo(e,t.containerInfo)}function Cc(e,t,n,o,l){return Qr(),$o(l),t.flags|=256,Ge(e,t,n,o),t.child}var aa={dehydrated:null,treeContext:null,retryLane:0};function la(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nc(e,t,n){var o=t.pendingProps,l=xe.current,d=!1,p=(t.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(l&2)!==0),v?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),me(xe,l&1),e===null)return Lo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=o.children,e=o.fallback,d?(o=t.mode,d=t.child,p={mode:"hidden",children:p},(o&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=p):d=wi(p,o,0,null),e=Cr(e,o,n,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=la(n),t.memoizedState=aa,e):ua(t,p));if(l=e.memoizedState,l!==null&&(v=l.dehydrated,v!==null))return If(e,t,p,o,v,l,n);if(d){d=o.fallback,p=t.mode,l=e.child,v=l.sibling;var w={mode:"hidden",children:o.children};return(p&1)===0&&t.child!==l?(o=t.child,o.childLanes=0,o.pendingProps=w,t.deletions=null):(o=dr(l,w),o.subtreeFlags=l.subtreeFlags&14680064),v!==null?d=dr(v,d):(d=Cr(d,p,n,null),d.flags|=2),d.return=t,o.return=t,o.sibling=d,t.child=o,o=d,d=t.child,p=e.child.memoizedState,p=p===null?la(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~n,t.memoizedState=aa,o}return d=e.child,e=d.sibling,o=dr(d,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function ua(e,t){return t=wi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oi(e,t,n,o){return o!==null&&$o(o),Yr(t,e.child,null,n),e=ua(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function If(e,t,n,o,l,d,p){if(n)return t.flags&256?(t.flags&=-257,o=na(Error(s(422))),oi(e,t,p,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=o.fallback,l=t.mode,o=wi({mode:"visible",children:o.children},l,0,null),d=Cr(d,l,p,null),d.flags|=2,o.return=t,d.return=t,o.sibling=d,t.child=o,(t.mode&1)!==0&&Yr(t,e.child,null,p),t.child.memoizedState=la(p),t.memoizedState=aa,d);if((t.mode&1)===0)return oi(e,t,p,null);if(l.data==="$!"){if(o=l.nextSibling&&l.nextSibling.dataset,o)var v=o.dgst;return o=v,d=Error(s(419)),o=na(d,o,void 0),oi(e,t,p,o)}if(v=(p&e.childLanes)!==0,Ze||v){if(o=Ue,o!==null){switch(p&-p){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(o.suspendedLanes|p))!==0?0:l,l!==0&&l!==d.retryLane&&(d.retryLane=l,Ft(e,l),jt(o,e,l,-1))}return Ea(),o=na(Error(s(421))),oi(e,t,p,o)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Kf.bind(null,e),l._reactRetry=t,null):(e=d.treeContext,at=er(l.nextSibling),ot=t,_e=!0,kt=null,e!==null&&(ft[pt++]=Mt,ft[pt++]=Bt,ft[pt++]=wr,Mt=e.id,Bt=e.overflow,wr=t),t=ua(t,o.children),t.flags|=4096,t)}function Oc(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Mo(e.return,t,n)}function ca(e,t,n,o,l){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:l}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=n,d.tailMode=l)}function Rc(e,t,n){var o=t.pendingProps,l=o.revealOrder,d=o.tail;if(Ge(e,t,o.children,n),o=xe.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Oc(e,n,t);else if(e.tag===19)Oc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(me(xe,o),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Zs(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),ca(t,!1,l,n,d);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Zs(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}ca(t,!0,n,null,d);break;case"together":ca(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ai(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Lf(e,t,n){switch(t.tag){case 3:Tc(t),Qr();break;case 5:Vu(t);break;case 1:Xe(t.type)&&qs(t);break;case 4:qo(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,l=t.memoizedProps.value;me(Js,o._currentValue),o._currentValue=l;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(me(xe,xe.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Nc(e,t,n):(me(xe,xe.current&1),e=Wt(e,t,n),e!==null?e.sibling:null);me(xe,xe.current&1);break;case 19:if(o=(n&t.childLanes)!==0,(e.flags&128)!==0){if(o)return Rc(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),me(xe,xe.current),o)break;return null;case 22:case 23:return t.lanes=0,bc(e,t,n)}return Wt(e,t,n)}var Pc,da,Ac,Ic;Pc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},da=function(){},Ac=function(e,t,n,o){var l=e.memoizedProps;if(l!==o){e=t.stateNode,kr(It.current);var d=null;switch(n){case"input":l=zi(e,l),o=zi(e,o),d=[];break;case"select":l=q({},l,{value:void 0}),o=q({},o,{value:void 0}),d=[];break;case"textarea":l=Fi(e,l),o=Fi(e,o),d=[];break;default:typeof l.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ms)}Wi(n,o);var p;n=null;for(C in l)if(!o.hasOwnProperty(C)&&l.hasOwnProperty(C)&&l[C]!=null)if(C==="style"){var v=l[C];for(p in v)v.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else C!=="dangerouslySetInnerHTML"&&C!=="children"&&C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(u.hasOwnProperty(C)?d||(d=[]):(d=d||[]).push(C,null));for(C in o){var w=o[C];if(v=l?.[C],o.hasOwnProperty(C)&&w!==v&&(w!=null||v!=null))if(C==="style")if(v){for(p in v)!v.hasOwnProperty(p)||w&&w.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in w)w.hasOwnProperty(p)&&v[p]!==w[p]&&(n||(n={}),n[p]=w[p])}else n||(d||(d=[]),d.push(C,n)),n=w;else C==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,v=v?v.__html:void 0,w!=null&&v!==w&&(d=d||[]).push(C,w)):C==="children"?typeof w!="string"&&typeof w!="number"||(d=d||[]).push(C,""+w):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&(u.hasOwnProperty(C)?(w!=null&&C==="onScroll"&&ye("scroll",e),d||v===w||(d=[])):(d=d||[]).push(C,w))}n&&(d=d||[]).push("style",n);var C=d;(t.updateQueue=C)&&(t.flags|=4)}},Ic=function(e,t,n,o){n!==o&&(t.flags|=4)};function Xn(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags&14680064,o|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,o|=l.subtreeFlags,o|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function $f(e,t,n){var o=t.pendingProps;switch(Ao(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return Xe(t.type)&&Fs(),He(t),null;case 3:return o=t.stateNode,en(),ve(Ye),ve(We),Ho(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Ks(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,kt!==null&&(ka(kt),kt=null))),da(e,t),He(t),null;case 5:Wo(t);var l=kr(Kn.current);if(n=t.type,e!==null&&t.stateNode!=null)Ac(e,t,n,o,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(s(166));return He(t),null}if(e=kr(It.current),Ks(t)){o=t.stateNode,n=t.type;var d=t.memoizedProps;switch(o[At]=t,o[Fn]=d,e=(t.mode&1)!==0,n){case"dialog":ye("cancel",o),ye("close",o);break;case"iframe":case"object":case"embed":ye("load",o);break;case"video":case"audio":for(l=0;l<zn.length;l++)ye(zn[l],o);break;case"source":ye("error",o);break;case"img":case"image":case"link":ye("error",o),ye("load",o);break;case"details":ye("toggle",o);break;case"input":pl(o,d),ye("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!d.multiple},ye("invalid",o);break;case"textarea":yl(o,d),ye("invalid",o)}Wi(n,d),l=null;for(var p in d)if(d.hasOwnProperty(p)){var v=d[p];p==="children"?typeof v=="string"?o.textContent!==v&&(d.suppressHydrationWarning!==!0&&zs(o.textContent,v,e),l=["children",v]):typeof v=="number"&&o.textContent!==""+v&&(d.suppressHydrationWarning!==!0&&zs(o.textContent,v,e),l=["children",""+v]):u.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&ye("scroll",o)}switch(n){case"input":gs(o),gl(o,d,!0);break;case"textarea":gs(o),wl(o);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(o.onclick=Ms)}o=l,t.updateQueue=o,o!==null&&(t.flags|=4)}else{p=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_l(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=p.createElement(n,{is:o.is}):(e=p.createElement(n),n==="select"&&(p=e,o.multiple?p.multiple=!0:o.size&&(p.size=o.size))):e=p.createElementNS(e,n),e[At]=t,e[Fn]=o,Pc(e,t,!1,!1),t.stateNode=e;e:{switch(p=Vi(n,o),n){case"dialog":ye("cancel",e),ye("close",e),l=o;break;case"iframe":case"object":case"embed":ye("load",e),l=o;break;case"video":case"audio":for(l=0;l<zn.length;l++)ye(zn[l],e);l=o;break;case"source":ye("error",e),l=o;break;case"img":case"image":case"link":ye("error",e),ye("load",e),l=o;break;case"details":ye("toggle",e),l=o;break;case"input":pl(e,o),l=zi(e,o),ye("invalid",e);break;case"option":l=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},l=q({},o,{value:void 0}),ye("invalid",e);break;case"textarea":yl(e,o),l=Fi(e,o),ye("invalid",e);break;default:l=o}Wi(n,l),v=l;for(d in v)if(v.hasOwnProperty(d)){var w=v[d];d==="style"?Sl(e,w):d==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&xl(e,w)):d==="children"?typeof w=="string"?(n!=="textarea"||w!=="")&&_n(e,w):typeof w=="number"&&_n(e,""+w):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?w!=null&&d==="onScroll"&&ye("scroll",e):w!=null&&A(e,d,w,p))}switch(n){case"input":gs(e),gl(e,o,!1);break;case"textarea":gs(e),wl(e);break;case"option":o.value!=null&&e.setAttribute("value",""+he(o.value));break;case"select":e.multiple=!!o.multiple,d=o.value,d!=null?Lr(e,!!o.multiple,d,!1):o.defaultValue!=null&&Lr(e,!!o.multiple,o.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ms)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)Ic(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(n=kr(Kn.current),kr(It.current),Ks(t)){if(o=t.stateNode,n=t.memoizedProps,o[At]=t,(d=o.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:zs(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zs(o.nodeValue,n,(e.mode&1)!==0)}d&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[At]=t,t.stateNode=o}return He(t),null;case 13:if(ve(xe),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&at!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Uu(),Qr(),t.flags|=98560,d=!1;else if(d=Ks(t),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[At]=t}else Qr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),d=!1}else kt!==null&&(ka(kt),kt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(xe.current&1)!==0?Ae===0&&(Ae=3):Ea())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return en(),da(e,t),e===null&&Mn(t.stateNode.containerInfo),He(t),null;case 10:return zo(t.type._context),He(t),null;case 17:return Xe(t.type)&&Fs(),He(t),null;case 19:if(ve(xe),d=t.memoizedState,d===null)return He(t),null;if(o=(t.flags&128)!==0,p=d.rendering,p===null)if(o)Xn(d,!1);else{if(Ae!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Zs(e),p!==null){for(t.flags|=128,Xn(d,!1),o=p.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)d=n,e=o,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return me(xe,xe.current&1|2),t.child}e=e.sibling}d.tail!==null&&Ce()>sn&&(t.flags|=128,o=!0,Xn(d,!1),t.lanes=4194304)}else{if(!o)if(e=Zs(p),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xn(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!_e)return He(t),null}else 2*Ce()-d.renderingStartTime>sn&&n!==1073741824&&(t.flags|=128,o=!0,Xn(d,!1),t.lanes=4194304);d.isBackwards?(p.sibling=t.child,t.child=p):(n=d.last,n!==null?n.sibling=p:t.child=p,d.last=p)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Ce(),t.sibling=null,n=xe.current,me(xe,o?n&1|2:n&1),t):(He(t),null);case 22:case 23:return ba(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(lt&1073741824)!==0&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Uf(e,t){switch(Ao(t),t.tag){case 1:return Xe(t.type)&&Fs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return en(),ve(Ye),ve(We),Ho(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Wo(t),null;case 13:if(ve(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(xe),null;case 4:return en(),null;case 10:return zo(t.type._context),null;case 22:case 23:return ba(),null;case 24:return null;default:return null}}var li=!1,Ke=!1,Df=typeof WeakSet=="function"?WeakSet:Set,F=null;function rn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Ee(e,t,o)}else n.current=null}function ha(e,t,n){try{n()}catch(o){Ee(e,t,o)}}var Lc=!1;function zf(e,t){if(bo=Cs,e=fu(),go(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var l=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var p=0,v=-1,w=-1,C=0,$=0,D=e,I=null;t:for(;;){for(var B;D!==n||l!==0&&D.nodeType!==3||(v=p+l),D!==d||o!==0&&D.nodeType!==3||(w=p+o),D.nodeType===3&&(p+=D.nodeValue.length),(B=D.firstChild)!==null;)I=D,D=B;for(;;){if(D===e)break t;if(I===n&&++C===l&&(v=p),I===d&&++$===o&&(w=p),(B=D.nextSibling)!==null)break;D=I,I=D.parentNode}D=B}n=v===-1||w===-1?null:{start:v,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eo={focusedElem:e,selectionRange:n},Cs=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var W=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(W!==null){var V=W.memoizedProps,Ne=W.memoizedState,j=t.stateNode,_=j.getSnapshotBeforeUpdate(t.elementType===t.type?V:St(t.type,V),Ne);j.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(z){Ee(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return W=Lc,Lc=!1,W}function Zn(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&e)===e){var d=l.destroy;l.destroy=void 0,d!==void 0&&ha(t,n,d)}l=l.next}while(l!==o)}}function ui(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function fa(e){var t=e.ref;if(t!==null){var n=e.stateNode;e.tag,e=n,typeof t=="function"?t(e):t.current=e}}function $c(e){var t=e.alternate;t!==null&&(e.alternate=null,$c(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Fn],delete t[No],delete t[xf],delete t[kf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Uc(e){return e.tag===5||e.tag===3||e.tag===4}function Dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pa(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ms));else if(o!==4&&(e=e.child,e!==null))for(pa(e,t,n),e=e.sibling;e!==null;)pa(e,t,n),e=e.sibling}function ma(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(ma(e,t,n),e=e.sibling;e!==null;)ma(e,t,n),e=e.sibling}var Me=null,bt=!1;function or(e,t,n){for(n=n.child;n!==null;)zc(e,t,n),n=n.sibling}function zc(e,t,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(ks,n)}catch{}switch(n.tag){case 5:Ke||rn(n,t);case 6:var o=Me,l=bt;Me=null,or(e,t,n),Me=o,bt=l,Me!==null&&(bt?(e=Me,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(bt?(e=Me,n=n.stateNode,e.nodeType===8?Co(e.parentNode,n):e.nodeType===1&&Co(e,n),Rn(e)):Co(Me,n.stateNode));break;case 4:o=Me,l=bt,Me=n.stateNode.containerInfo,bt=!0,or(e,t,n),Me=o,bt=l;break;case 0:case 11:case 14:case 15:if(!Ke&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){l=o=o.next;do{var d=l,p=d.destroy;d=d.tag,p!==void 0&&((d&2)!==0||(d&4)!==0)&&ha(n,t,p),l=l.next}while(l!==o)}or(e,t,n);break;case 1:if(!Ke&&(rn(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(v){Ee(n,t,v)}or(e,t,n);break;case 21:or(e,t,n);break;case 22:n.mode&1?(Ke=(o=Ke)||n.memoizedState!==null,or(e,t,n),Ke=o):or(e,t,n);break;default:or(e,t,n)}}function Mc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Df),t.forEach(function(o){var l=Gf.bind(null,e,o);n.has(o)||(n.add(o),o.then(l,l))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var l=n[o];try{var d=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 5:Me=v.stateNode,bt=!1;break e;case 3:Me=v.stateNode.containerInfo,bt=!0;break e;case 4:Me=v.stateNode.containerInfo,bt=!0;break e}v=v.return}if(Me===null)throw Error(s(160));zc(d,p,l),Me=null,bt=!1;var w=l.alternate;w!==null&&(w.return=null),l.return=null}catch(C){Ee(l,t,C)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bc(t,e),t=t.sibling}function Bc(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),$t(e),o&4){try{Zn(3,e,e.return),ui(3,e)}catch(V){Ee(e,e.return,V)}try{Zn(5,e,e.return)}catch(V){Ee(e,e.return,V)}}break;case 1:Et(t,e),$t(e),o&512&&n!==null&&rn(n,n.return);break;case 5:if(Et(t,e),$t(e),o&512&&n!==null&&rn(n,n.return),e.flags&32){var l=e.stateNode;try{_n(l,"")}catch(V){Ee(e,e.return,V)}}if(o&4&&(l=e.stateNode,l!=null)){var d=e.memoizedProps,p=n!==null?n.memoizedProps:d,v=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{v==="input"&&d.type==="radio"&&d.name!=null&&ml(l,d),Vi(v,p);var C=Vi(v,d);for(p=0;p<w.length;p+=2){var $=w[p],D=w[p+1];$==="style"?Sl(l,D):$==="dangerouslySetInnerHTML"?xl(l,D):$==="children"?_n(l,D):A(l,$,D,C)}switch(v){case"input":Mi(l,d);break;case"textarea":vl(l,d);break;case"select":var I=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!d.multiple;var B=d.value;B!=null?Lr(l,!!d.multiple,B,!1):I!==!!d.multiple&&(d.defaultValue!=null?Lr(l,!!d.multiple,d.defaultValue,!0):Lr(l,!!d.multiple,d.multiple?[]:"",!1))}l[Fn]=d}catch(V){Ee(e,e.return,V)}}break;case 6:if(Et(t,e),$t(e),o&4){if(e.stateNode===null)throw Error(s(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(V){Ee(e,e.return,V)}}break;case 3:if(Et(t,e),$t(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Rn(t.containerInfo)}catch(V){Ee(e,e.return,V)}break;case 4:Et(t,e),$t(e);break;case 13:Et(t,e),$t(e),l=e.child,l.flags&8192&&(d=l.memoizedState!==null,l.stateNode.isHidden=d,!d||l.alternate!==null&&l.alternate.memoizedState!==null||(va=Ce())),o&4&&Mc(e);break;case 22:if($=n!==null&&n.memoizedState!==null,e.mode&1?(Ke=(C=Ke)||$,Et(t,e),Ke=C):Et(t,e),$t(e),o&8192){if(C=e.memoizedState!==null,(e.stateNode.isHidden=C)&&!$&&(e.mode&1)!==0)for(F=e,$=e.child;$!==null;){for(D=F=$;F!==null;){switch(I=F,B=I.child,I.tag){case 0:case 11:case 14:case 15:Zn(4,I,I.return);break;case 1:rn(I,I.return);var W=I.stateNode;if(typeof W.componentWillUnmount=="function"){o=I,n=I.return;try{t=o,W.props=t.memoizedProps,W.state=t.memoizedState,W.componentWillUnmount()}catch(V){Ee(o,n,V)}}break;case 5:rn(I,I.return);break;case 22:if(I.memoizedState!==null){Wc(D);continue}}B!==null?(B.return=I,F=B):Wc(D)}$=$.sibling}e:for($=null,D=e;;){if(D.tag===5){if($===null){$=D;try{l=D.stateNode,C?(d=l.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(v=D.stateNode,w=D.memoizedProps.style,p=w!=null&&w.hasOwnProperty("display")?w.display:null,v.style.display=kl("display",p))}catch(V){Ee(e,e.return,V)}}}else if(D.tag===6){if($===null)try{D.stateNode.nodeValue=C?"":D.memoizedProps}catch(V){Ee(e,e.return,V)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;$===D&&($=null),D=D.return}$===D&&($=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Et(t,e),$t(e),o&4&&Mc(e);break;case 21:break;default:Et(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Uc(n)){var o=n;break e}n=n.return}throw Error(s(160))}switch(o.tag){case 5:var l=o.stateNode;o.flags&32&&(_n(l,""),o.flags&=-33);var d=Dc(e);ma(e,d,l);break;case 3:case 4:var p=o.stateNode.containerInfo,v=Dc(e);pa(e,v,p);break;default:throw Error(s(161))}}catch(w){Ee(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mf(e,t,n){F=e,Fc(e)}function Fc(e,t,n){for(var o=(e.mode&1)!==0;F!==null;){var l=F,d=l.child;if(l.tag===22&&o){var p=l.memoizedState!==null||li;if(!p){var v=l.alternate,w=v!==null&&v.memoizedState!==null||Ke;v=li;var C=Ke;if(li=p,(Ke=w)&&!C)for(F=l;F!==null;)p=F,w=p.child,p.tag===22&&p.memoizedState!==null?Vc(l):w!==null?(w.return=p,F=w):Vc(l);for(;d!==null;)F=d,Fc(d),d=d.sibling;F=l,li=v,Ke=C}qc(e)}else(l.subtreeFlags&8772)!==0&&d!==null?(d.return=l,F=d):qc(e)}}function qc(e){for(;F!==null;){var t=F;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ke||ui(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ke)if(n===null)o.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);o.componentDidUpdate(l,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&Wu(t,d,o);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wu(t,p,n)}break;case 5:var v=t.stateNode;if(n===null&&t.flags&4){n=v;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&n.focus();break;case"img":w.src&&(n.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var C=t.alternate;if(C!==null){var $=C.memoizedState;if($!==null){var D=$.dehydrated;D!==null&&Rn(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Ke||t.flags&512&&fa(t)}catch(I){Ee(t,t.return,I)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Wc(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Vc(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ui(4,t)}catch(w){Ee(t,n,w)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var l=t.return;try{o.componentDidMount()}catch(w){Ee(t,l,w)}}var d=t.return;try{fa(t)}catch(w){Ee(t,d,w)}break;case 5:var p=t.return;try{fa(t)}catch(w){Ee(t,p,w)}}}catch(w){Ee(t,t.return,w)}if(t===e){F=null;break}var v=t.sibling;if(v!==null){v.return=t.return,F=v;break}F=t.return}}var Bf=Math.ceil,ci=K.ReactCurrentDispatcher,ga=K.ReactCurrentOwner,yt=K.ReactCurrentBatchConfig,ae=0,Ue=null,Oe=null,Be=0,lt=0,nn=tr(0),Ae=0,es=null,br=0,di=0,ya=0,ts=null,et=null,va=0,sn=1/0,Vt=null,hi=!1,wa=null,ar=null,fi=!1,lr=null,pi=0,rs=0,_a=null,mi=-1,gi=0;function Je(){return(ae&6)!==0?Ce():mi!==-1?mi:mi=Ce()}function ur(e){return(e.mode&1)===0?1:(ae&2)!==0&&Be!==0?Be&-Be:bf.transition!==null?(gi===0&&(gi=Dl()),gi):(e=fe,e!==0||(e=window.event,e=e===void 0?16:Kl(e.type)),e)}function jt(e,t,n,o){if(50<rs)throw rs=0,_a=null,Error(s(185));jn(e,n,o),((ae&2)===0||e!==Ue)&&(e===Ue&&((ae&2)===0&&(di|=n),Ae===4&&cr(e,Be)),tt(e,o),n===1&&ae===0&&(t.mode&1)===0&&(sn=Ce()+500,Ws&&nr()))}function tt(e,t){var n=e.callbackNode;Sh(e,t);var o=Es(e,e===Ue?Be:0);if(o===0)n!==null&&Ll(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&Ll(n),t===1)e.tag===0?Sf(Kc.bind(null,e)):Pu(Kc.bind(null,e)),wf(function(){(ae&6)===0&&nr()}),n=null;else{switch(zl(o)){case 1:n=Xi;break;case 4:n=$l;break;case 16:n=xs;break;case 536870912:n=Ul;break;default:n=xs}n=td(n,Hc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hc(e,t){if(mi=-1,gi=0,(ae&6)!==0)throw Error(s(327));var n=e.callbackNode;if(on()&&e.callbackNode!==n)return null;var o=Es(e,e===Ue?Be:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=yi(e,o);else{t=o;var l=ae;ae|=2;var d=Jc();(Ue!==e||Be!==t)&&(Vt=null,sn=Ce()+500,jr(e,t));do try{Wf();break}catch(v){Gc(e,v)}while(!0);Do(),ci.current=d,ae=l,Oe!==null?t=0:(Ue=null,Be=0,t=Ae)}if(t!==0){if(t===2&&(l=Zi(e),l!==0&&(o=l,t=xa(e,l))),t===1)throw n=es,jr(e,0),cr(e,o),tt(e,Ce()),n;if(t===6)cr(e,o);else{if(l=e.current.alternate,(o&30)===0&&!Ff(l)&&(t=yi(e,o),t===2&&(d=Zi(e),d!==0&&(o=d,t=xa(e,d))),t===1))throw n=es,jr(e,0),cr(e,o),tt(e,Ce()),n;switch(e.finishedWork=l,e.finishedLanes=o,t){case 0:case 1:throw Error(s(345));case 2:Tr(e,et,Vt);break;case 3:if(cr(e,o),(o&130023424)===o&&(t=va+500-Ce(),10<t)){if(Es(e,0)!==0)break;if(l=e.suspendedLanes,(l&o)!==o){Je(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=To(Tr.bind(null,e,et,Vt),t);break}Tr(e,et,Vt);break;case 4:if(cr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,l=-1;0<o;){var p=31-_t(o);d=1<<p,p=t[p],p>l&&(l=p),o&=~d}if(o=l,o=Ce()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Bf(o/1960))-o,10<o){e.timeoutHandle=To(Tr.bind(null,e,et,Vt),o);break}Tr(e,et,Vt);break;case 5:Tr(e,et,Vt);break;default:throw Error(s(329))}}}return tt(e,Ce()),e.callbackNode===n?Hc.bind(null,e):null}function xa(e,t){var n=ts;return e.current.memoizedState.isDehydrated&&(jr(e,t).flags|=256),e=yi(e,t),e!==2&&(t=et,et=n,t!==null&&ka(t)),e}function ka(e){et===null?et=e:et.push.apply(et,e)}function Ff(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var l=n[o],d=l.getSnapshot;l=l.value;try{if(!xt(d(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cr(e,t){for(t&=~ya,t&=~di,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),o=1<<n;e[n]=-1,t&=~o}}function Kc(e){if((ae&6)!==0)throw Error(s(327));on();var t=Es(e,0);if((t&1)===0)return tt(e,Ce()),null;var n=yi(e,t);if(e.tag!==0&&n===2){var o=Zi(e);o!==0&&(t=o,n=xa(e,o))}if(n===1)throw n=es,jr(e,0),cr(e,t),tt(e,Ce()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tr(e,et,Vt),tt(e,Ce()),null}function Sa(e,t){var n=ae;ae|=1;try{return e(t)}finally{ae=n,ae===0&&(sn=Ce()+500,Ws&&nr())}}function Er(e){lr!==null&&lr.tag===0&&(ae&6)===0&&on();var t=ae;ae|=1;var n=yt.transition,o=fe;try{if(yt.transition=null,fe=1,e)return e()}finally{fe=o,yt.transition=n,ae=t,(ae&6)===0&&nr()}}function ba(){lt=nn.current,ve(nn)}function jr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vf(n)),Oe!==null)for(n=Oe.return;n!==null;){var o=n;switch(Ao(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Fs();break;case 3:en(),ve(Ye),ve(We),Ho();break;case 5:Wo(o);break;case 4:en();break;case 13:ve(xe);break;case 19:ve(xe);break;case 10:zo(o.type._context);break;case 22:case 23:ba()}n=n.return}if(Ue=e,Oe=e=dr(e.current,null),Be=lt=t,Ae=0,es=null,ya=di=br=0,et=ts=null,xr!==null){for(t=0;t<xr.length;t++)if(n=xr[t],o=n.interleaved,o!==null){n.interleaved=null;var l=o.next,d=n.pending;if(d!==null){var p=d.next;d.next=l,o.next=p}n.pending=o}xr=null}return e}function Gc(e,t){do{var n=Oe;try{if(Do(),ei.current=si,ti){for(var o=ke.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}ti=!1}if(Sr=0,$e=Pe=ke=null,Gn=!1,Jn=0,ga.current=null,n===null||n.return===null){Ae=1,es=t,Oe=null;break}e:{var d=e,p=n.return,v=n,w=t;if(t=Be,v.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var C=w,$=v,D=$.tag;if(($.mode&1)===0&&(D===0||D===11||D===15)){var I=$.alternate;I?($.updateQueue=I.updateQueue,$.memoizedState=I.memoizedState,$.lanes=I.lanes):($.updateQueue=null,$.memoizedState=null)}var B=wc(p);if(B!==null){B.flags&=-257,_c(B,p,v,d,t),B.mode&1&&vc(d,C,t),t=B,w=C;var W=t.updateQueue;if(W===null){var V=new Set;V.add(w),t.updateQueue=V}else W.add(w);break e}else{if((t&1)===0){vc(d,C,t),Ea();break e}w=Error(s(426))}}else if(_e&&v.mode&1){var Ne=wc(p);if(Ne!==null){(Ne.flags&65536)===0&&(Ne.flags|=256),_c(Ne,p,v,d,t),$o(tn(w,v));break e}}d=w=tn(w,v),Ae!==4&&(Ae=2),ts===null?ts=[d]:ts.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var j=gc(d,w,t);qu(d,j);break e;case 1:v=w;var _=d.type,T=d.stateNode;if((d.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ar===null||!ar.has(T)))){d.flags|=65536,t&=-t,d.lanes|=t;var z=yc(d,v,t);qu(d,z);break e}}d=d.return}while(d!==null)}Yc(n)}catch(H){t=H,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function Jc(){var e=ci.current;return ci.current=si,e===null?si:e}function Ea(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Ue===null||(br&268435455)===0&&(di&268435455)===0||cr(Ue,Be)}function yi(e,t){var n=ae;ae|=2;var o=Jc();(Ue!==e||Be!==t)&&(Vt=null,jr(e,t));do try{qf();break}catch(l){Gc(e,l)}while(!0);if(Do(),ae=n,ci.current=o,Oe!==null)throw Error(s(261));return Ue=null,Be=0,Ae}function qf(){for(;Oe!==null;)Qc(Oe)}function Wf(){for(;Oe!==null&&!ph();)Qc(Oe)}function Qc(e){var t=ed(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Yc(e):Oe=t,ga.current=null}function Yc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=$f(n,t,lt),n!==null){Oe=n;return}}else{if(n=Uf(n,t),n!==null){n.flags&=32767,Oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Oe=null;return}}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);Ae===0&&(Ae=5)}function Tr(e,t,n){var o=fe,l=yt.transition;try{yt.transition=null,fe=1,Vf(e,t,n,o)}finally{yt.transition=l,fe=o}return null}function Vf(e,t,n,o){do on();while(lr!==null);if((ae&6)!==0)throw Error(s(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=n.lanes|n.childLanes;if(bh(e,d),e===Ue&&(Oe=Ue=null,Be=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||fi||(fi=!0,td(xs,function(){return on(),null})),d=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||d){d=yt.transition,yt.transition=null;var p=fe;fe=1;var v=ae;ae|=4,ga.current=null,zf(e,n),Bc(n,e),df(Eo),Cs=!!bo,Eo=bo=null,e.current=n,Mf(n),mh(),ae=v,fe=p,yt.transition=d}else e.current=n;if(fi&&(fi=!1,lr=e,pi=l),d=e.pendingLanes,d===0&&(ar=null),vh(n.stateNode),tt(e,Ce()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],o(l.value,{componentStack:l.stack,digest:l.digest});if(hi)throw hi=!1,e=wa,wa=null,e;return(pi&1)!==0&&e.tag!==0&&on(),d=e.pendingLanes,(d&1)!==0?e===_a?rs++:(rs=0,_a=e):rs=0,nr(),null}function on(){if(lr!==null){var e=zl(pi),t=yt.transition,n=fe;try{if(yt.transition=null,fe=16>e?16:e,lr===null)var o=!1;else{if(e=lr,lr=null,pi=0,(ae&6)!==0)throw Error(s(331));var l=ae;for(ae|=4,F=e.current;F!==null;){var d=F,p=d.child;if((F.flags&16)!==0){var v=d.deletions;if(v!==null){for(var w=0;w<v.length;w++){var C=v[w];for(F=C;F!==null;){var $=F;switch($.tag){case 0:case 11:case 15:Zn(8,$,d)}var D=$.child;if(D!==null)D.return=$,F=D;else for(;F!==null;){$=F;var I=$.sibling,B=$.return;if($c($),$===C){F=null;break}if(I!==null){I.return=B,F=I;break}F=B}}}var W=d.alternate;if(W!==null){var V=W.child;if(V!==null){W.child=null;do{var Ne=V.sibling;V.sibling=null,V=Ne}while(V!==null)}}F=d}}if((d.subtreeFlags&2064)!==0&&p!==null)p.return=d,F=p;else e:for(;F!==null;){if(d=F,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Zn(9,d,d.return)}var j=d.sibling;if(j!==null){j.return=d.return,F=j;break e}F=d.return}}var _=e.current;for(F=_;F!==null;){p=F;var T=p.child;if((p.subtreeFlags&2064)!==0&&T!==null)T.return=p,F=T;else e:for(p=_;F!==null;){if(v=F,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:ui(9,v)}}catch(H){Ee(v,v.return,H)}if(v===p){F=null;break e}var z=v.sibling;if(z!==null){z.return=v.return,F=z;break e}F=v.return}}if(ae=l,nr(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(ks,e)}catch{}o=!0}return o}finally{fe=n,yt.transition=t}}return!1}function Xc(e,t,n){t=tn(n,t),t=gc(e,t,1),e=ir(e,t,1),t=Je(),e!==null&&(jn(e,1,t),tt(e,t))}function Ee(e,t,n){if(e.tag===3)Xc(e,e,n);else for(;t!==null;){if(t.tag===3){Xc(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ar===null||!ar.has(o))){e=tn(n,e),e=yc(t,e,1),t=ir(t,e,1),e=Je(),t!==null&&(jn(t,1,e),tt(t,e));break}}t=t.return}}function Hf(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&n,Ue===e&&(Be&n)===n&&(Ae===4||Ae===3&&(Be&130023424)===Be&&500>Ce()-va?jr(e,0):ya|=n),tt(e,t)}function Zc(e,t){t===0&&((e.mode&1)===0?t=1:(t=bs,bs<<=1,(bs&130023424)===0&&(bs=4194304)));var n=Je();e=Ft(e,t),e!==null&&(jn(e,t,n),tt(e,n))}function Kf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zc(e,n)}function Gf(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(s(314))}o!==null&&o.delete(t),Zc(e,n)}var ed;ed=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ye.current)Ze=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ze=!1,Lf(e,t,n);Ze=(e.flags&131072)!==0}else Ze=!1,_e&&(t.flags&1048576)!==0&&Au(t,Hs,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;ai(e,t),e=t.pendingProps;var l=Kr(t,We.current);Zr(t,n),l=Jo(null,t,o,e,l,n);var d=Qo();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(o)?(d=!0,qs(t)):d=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Fo(t),l.updater=ii,t.stateNode=l,l._reactInternals=t,ra(t,o,e,n),t=oa(null,t,o,!0,d,n)):(t.tag=0,_e&&d&&Po(t),Ge(null,t,l,n),t=t.child),t;case 16:o=t.elementType;e:{switch(ai(e,t),e=t.pendingProps,l=o._init,o=l(o._payload),t.type=o,l=t.tag=Qf(o),e=St(o,e),l){case 0:t=ia(null,t,o,e,n);break e;case 1:t=jc(null,t,o,e,n);break e;case 11:t=xc(null,t,o,e,n);break e;case 14:t=kc(null,t,o,St(o.type,e),n);break e}throw Error(s(306,o,""))}return t;case 0:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:St(o,l),ia(e,t,o,l,n);case 1:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:St(o,l),jc(e,t,o,l,n);case 3:e:{if(Tc(t),e===null)throw Error(s(387));o=t.pendingProps,d=t.memoizedState,l=d.element,Fu(e,t),Xs(t,o,null,n);var p=t.memoizedState;if(o=p.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){l=tn(Error(s(423)),t),t=Cc(e,t,o,n,l);break e}else if(o!==l){l=tn(Error(s(424)),t),t=Cc(e,t,o,n,l);break e}else for(at=er(t.stateNode.containerInfo.firstChild),ot=t,_e=!0,kt=null,n=Mu(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qr(),o===l){t=Wt(e,t,n);break e}Ge(e,t,o,n)}t=t.child}return t;case 5:return Vu(t),e===null&&Lo(t),o=t.type,l=t.pendingProps,d=e!==null?e.memoizedProps:null,p=l.children,jo(o,l)?p=null:d!==null&&jo(o,d)&&(t.flags|=32),Ec(e,t),Ge(e,t,p,n),t.child;case 6:return e===null&&Lo(t),null;case 13:return Nc(e,t,n);case 4:return qo(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Yr(t,null,o,n):Ge(e,t,o,n),t.child;case 11:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:St(o,l),xc(e,t,o,l,n);case 7:return Ge(e,t,t.pendingProps,n),t.child;case 8:return Ge(e,t,t.pendingProps.children,n),t.child;case 12:return Ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,l=t.pendingProps,d=t.memoizedProps,p=l.value,me(Js,o._currentValue),o._currentValue=p,d!==null)if(xt(d.value,p)){if(d.children===l.children&&!Ye.current){t=Wt(e,t,n);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var v=d.dependencies;if(v!==null){p=d.child;for(var w=v.firstContext;w!==null;){if(w.context===o){if(d.tag===1){w=qt(-1,n&-n),w.tag=2;var C=d.updateQueue;if(C!==null){C=C.shared;var $=C.pending;$===null?w.next=w:(w.next=$.next,$.next=w),C.pending=w}}d.lanes|=n,w=d.alternate,w!==null&&(w.lanes|=n),Mo(d.return,n,t),v.lanes|=n;break}w=w.next}}else if(d.tag===10)p=d.type===t.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(s(341));p.lanes|=n,v=p.alternate,v!==null&&(v.lanes|=n),Mo(p,n,t),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===t){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}Ge(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,o=t.pendingProps.children,Zr(t,n),l=mt(l),o=o(l),t.flags|=1,Ge(e,t,o,n),t.child;case 14:return o=t.type,l=St(o,t.pendingProps),l=St(o.type,l),kc(e,t,o,l,n);case 15:return Sc(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,l=t.pendingProps,l=t.elementType===o?l:St(o,l),ai(e,t),t.tag=1,Xe(o)?(e=!0,qs(t)):e=!1,Zr(t,n),pc(t,o,l),ra(t,o,l,n),oa(null,t,o,!0,e,n);case 19:return Rc(e,t,n);case 22:return bc(e,t,n)}throw Error(s(156,t.tag))};function td(e,t){return Il(e,t)}function Jf(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,n,o){return new Jf(e,t,n,o)}function ja(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qf(e){if(typeof e=="function")return ja(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ot)return 11;if(e===Rt)return 14}return 2}function dr(e,t){var n=e.alternate;return n===null?(n=vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vi(e,t,n,o,l,d){var p=2;if(o=e,typeof e=="function")ja(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case ne:return Cr(n.children,l,d,t);case Te:p=8,l|=8;break;case Le:return e=vt(12,n,t,l|2),e.elementType=Le,e.lanes=d,e;case nt:return e=vt(13,n,t,l),e.elementType=nt,e.lanes=d,e;case wt:return e=vt(19,n,t,l),e.elementType=wt,e.lanes=d,e;case be:return wi(n,l,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ut:p=10;break e;case mr:p=9;break e;case Ot:p=11;break e;case Rt:p=14;break e;case Qe:p=16,o=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=vt(p,n,t,l),t.elementType=e,t.type=o,t.lanes=d,t}function Cr(e,t,n,o){return e=vt(7,e,o,t),e.lanes=n,e}function wi(e,t,n,o){return e=vt(22,e,o,t),e.elementType=be,e.lanes=n,e.stateNode={isHidden:!1},e}function Ta(e,t,n){return e=vt(6,e,null,t),e.lanes=n,e}function Ca(e,t,n){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yf(e,t,n,o,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eo(0),this.expirationTimes=eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.identifierPrefix=o,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Na(e,t,n,o,l,d,p,v,w){return e=new Yf(e,t,n,v,w),t===1?(t=1,d===!0&&(t|=8)):t=0,d=vt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(d),e}function Xf(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function rd(e){if(!e)return rr;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(Xe(n))return Ou(e,n,t)}return t}function nd(e,t,n,o,l,d,p,v,w){return e=Na(n,o,!0,e,l,d,p,v,w),e.context=rd(null),n=e.current,o=Je(),l=ur(n),d=qt(o,l),d.callback=t??null,ir(n,d,l),e.current.lanes=l,jn(e,l,o),tt(e,o),e}function _i(e,t,n,o){var l=t.current,d=Je(),p=ur(l);return n=rd(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(d,p),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=ir(l,t,p),e!==null&&(jt(e,l,p,d),Ys(e,l,p)),p}function xi(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function sd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Oa(e,t){sd(e,t),(e=e.alternate)&&sd(e,t)}function Zf(){return null}var id=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ra(e){this._internalRoot=e}ki.prototype.render=Ra.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));_i(e,t,null,null)},ki.prototype.unmount=Ra.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Er(function(){_i(null,e,null,null)}),t[Dt]=null}};function ki(e){this._internalRoot=e}ki.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fl();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&Vl(e)}};function Pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Si(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function od(){}function ep(e,t,n,o,l){if(l){if(typeof o=="function"){var d=o;o=function(){var C=xi(p);d.call(C)}}var p=nd(t,o,e,0,null,!1,!1,"",od);return e._reactRootContainer=p,e[Dt]=p.current,Mn(e.nodeType===8?e.parentNode:e),Er(),p}for(;l=e.lastChild;)e.removeChild(l);if(typeof o=="function"){var v=o;o=function(){var C=xi(w);v.call(C)}}var w=Na(e,0,!1,null,null,!1,!1,"",od);return e._reactRootContainer=w,e[Dt]=w.current,Mn(e.nodeType===8?e.parentNode:e),Er(function(){_i(t,w,n,o)}),w}function bi(e,t,n,o,l){var d=n._reactRootContainer;if(d){var p=d;if(typeof l=="function"){var v=l;l=function(){var w=xi(p);v.call(w)}}_i(t,p,e,l)}else p=ep(n,t,e,l,o);return xi(p)}Ml=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=En(t.pendingLanes);n!==0&&(to(t,n|1),tt(t,Ce()),(ae&6)===0&&(sn=Ce()+500,nr()))}break;case 13:Er(function(){var o=Ft(e,1);if(o!==null){var l=Je();jt(o,e,1,l)}}),Oa(e,1)}},ro=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var n=Je();jt(t,e,134217728,n)}Oa(e,134217728)}},Bl=function(e){if(e.tag===13){var t=ur(e),n=Ft(e,t);if(n!==null){var o=Je();jt(n,e,t,o)}Oa(e,t)}},Fl=function(){return fe},ql=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}},Gi=function(e,t,n){switch(t){case"input":if(Mi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var l=Bs(o);if(!l)throw Error(s(90));fl(o),Mi(o,l)}}}break;case"textarea":vl(e,n);break;case"select":t=n.value,t!=null&&Lr(e,!!n.multiple,t,!1)}},Tl=Sa,Cl=Er;var tp={usingClientEntryPoint:!1,Events:[qn,Vr,Bs,El,jl,Sa]},ns={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rp={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pl(e),e===null?null:e.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||Zf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ei=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ei.isDisabled&&Ei.supportsFiber)try{ks=Ei.inject(rp),Pt=Ei}catch{}}return rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tp,rt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pa(t))throw Error(s(200));return Xf(e,t,null,n)},rt.createRoot=function(e,t){if(!Pa(e))throw Error(s(299));var n=!1,o="",l=id;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Na(e,1,!1,null,null,n,!1,o,l),e[Dt]=t.current,Mn(e.nodeType===8?e.parentNode:e),new Ra(t)},rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Pl(t),e=e===null?null:e.stateNode,e},rt.flushSync=function(e){return Er(e)},rt.hydrate=function(e,t,n){if(!Si(t))throw Error(s(200));return bi(null,e,t,!0,n)},rt.hydrateRoot=function(e,t,n){if(!Pa(e))throw Error(s(405));var o=n!=null&&n.hydratedSources||null,l=!1,d="",p=id;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(d=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=nd(t,null,e,1,n??null,l,!1,d,p),e[Dt]=t.current,Mn(e),o)for(e=0;e<o.length;e++)n=o[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new ki(t)},rt.render=function(e,t,n){if(!Si(t))throw Error(s(200));return bi(null,e,t,!1,n)},rt.unmountComponentAtNode=function(e){if(!Si(e))throw Error(s(40));return e._reactRootContainer?(Er(function(){bi(null,null,e,!1,function(){e._reactRootContainer=null,e[Dt]=null})}),!0):!1},rt.unstable_batchedUpdates=Sa,rt.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!Si(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return bi(e,t,n,!1,o)},rt.version="18.3.1-next-f1338f8080-20240426",rt}var pd;function cp(){if(pd)return La.exports;pd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(r){console.error(r)}}return i(),La.exports=up(),La.exports}var md;function dp(){if(md)return ji;md=1;var i=cp();return ji.createRoot=i.createRoot,ji.hydrateRoot=i.hydrateRoot,ji}var hp=dp();function Li(i,r){var s={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.indexOf(a)<0&&(s[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(i);u<a.length;u++)r.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(i,a[u])&&(s[a[u]]=i[a[u]]);return s}function fp(i,r,s,a){function u(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(x){try{y(a.next(x))}catch(b){h(b)}}function g(x){try{y(a.throw(x))}catch(b){h(b)}}function y(x){x.done?c(x.value):u(x.value).then(m,g)}y((a=a.apply(i,r||[])).next())})}const pp=i=>i?(...r)=>i(...r):(...r)=>fetch(...r);class ol extends Error{constructor(r,s="FunctionsError",a){super(r),this.name=s,this.context=a}}class mp extends ol{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class gd extends ol{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class yd extends ol{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Ka;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Ka||(Ka={}));class gp{constructor(r,{headers:s={},customFetch:a,region:u=Ka.Any}={}){this.url=r,this.headers=s,this.region=u,this.fetch=pp(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return fp(this,arguments,void 0,function*(s,a={}){var u;let c,h;try{const{headers:m,method:g,body:y,signal:x,timeout:b}=a;let S={},{region:k}=a;k||(k=this.region);const O=new URL(`${this.url}/${s}`);k&&k!=="any"&&(S["x-region"]=k,O.searchParams.set("forceFunctionRegion",k));let N;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",N=y):typeof y=="string"?(S["Content-Type"]="text/plain",N=y):typeof FormData<"u"&&y instanceof FormData?N=y:(S["Content-Type"]="application/json",N=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?N=JSON.stringify(y):N=y;let P=x;b&&(h=new AbortController,c=setTimeout(()=>h.abort(),b),x?(P=h.signal,x.addEventListener("abort",()=>h.abort())):P=h.signal);const U=yield this.fetch(O.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),m),body:N,signal:P}).catch(le=>{throw new mp(le)}),R=U.headers.get("x-relay-error");if(R&&R==="true")throw new gd(U);if(!U.ok)throw new yd(U);let A=((u=U.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),K;return A==="application/json"?K=yield U.json():A==="application/octet-stream"||A==="application/pdf"?K=yield U.blob():A==="text/event-stream"?K=U:A==="multipart/form-data"?K=yield U.formData():K=yield U.text(),{data:K,error:null,response:U}}catch(m){return{data:null,error:m,response:m instanceof yd||m instanceof gd?m.context:void 0}}finally{c&&clearTimeout(c)}})}}var yp=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},vp=class{constructor(i){var r,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(r=i.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,r){return this.headers=new Headers(this.headers),this.headers.set(i,r),this}then(i,r){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let u=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let h=null,m=null,g=null,y=c.status,x=c.statusText;if(c.ok){var b,S;if(s.method!=="HEAD"){var k;const U=await c.text();U===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((k=s.headers.get("Accept"))===null||k===void 0)&&k.includes("application/vnd.pgrst.plan+text"))?m=U:m=JSON.parse(U))}const N=(b=s.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),P=(S=c.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");N&&P&&P.length>1&&(g=parseInt(P[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,y=406,x="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var O;const N=await c.text();try{h=JSON.parse(N),Array.isArray(h)&&c.status===404&&(m=[],h=null,y=200,x="OK")}catch{c.status===404&&N===""?(y=204,x="No Content"):h={message:N}}if(h&&s.isMaybeSingle&&(!(h==null||(O=h.details)===null||O===void 0)&&O.includes("0 rows"))&&(h=null,y=200,x="OK"),h&&s.shouldThrowOnError)throw new yp(h)}return{error:h,data:m,count:g,status:y,statusText:x}});return this.shouldThrowOnError||(u=u.catch(c=>{var h;let m="";const g=c?.cause;if(g){var y,x,b,S;const O=(y=g?.message)!==null&&y!==void 0?y:"",N=(x=g?.code)!==null&&x!==void 0?x:"";m=`${(b=c?.name)!==null&&b!==void 0?b:"FetchError"}: ${c?.message}`,m+=`

Caused by: ${(S=g?.name)!==null&&S!==void 0?S:"Error"}: ${O}`,N&&(m+=` (${N})`),g?.stack&&(m+=`
${g.stack}`)}else{var k;m=(k=c?.stack)!==null&&k!==void 0?k:""}return{error:{message:`${(h=c?.name)!==null&&h!==void 0?h:"FetchError"}: ${c?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(i,r)}returns(){return this}overrideTypes(){return this}},wp=class extends vp{select(i){let r=!1;const s=(i??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:r=!0,nullsFirst:s,foreignTable:a,referencedTable:u=a}={}){const c=u?`${u}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${i}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,r,{foreignTable:s,referencedTable:a=s}={}){const u=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(u,`${i}`),this.url.searchParams.set(c,`${r-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:r=!1,settings:s=!1,buffers:a=!1,wal:u=!1,format:c="text"}={}){var h;const m=[i?"analyze":null,r?"verbose":null,s?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${g}"; options=${m};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const vd=new RegExp("[,()]");var fn=class extends wp{eq(i,r){return this.url.searchParams.append(i,`eq.${r}`),this}neq(i,r){return this.url.searchParams.append(i,`neq.${r}`),this}gt(i,r){return this.url.searchParams.append(i,`gt.${r}`),this}gte(i,r){return this.url.searchParams.append(i,`gte.${r}`),this}lt(i,r){return this.url.searchParams.append(i,`lt.${r}`),this}lte(i,r){return this.url.searchParams.append(i,`lte.${r}`),this}like(i,r){return this.url.searchParams.append(i,`like.${r}`),this}likeAllOf(i,r){return this.url.searchParams.append(i,`like(all).{${r.join(",")}}`),this}likeAnyOf(i,r){return this.url.searchParams.append(i,`like(any).{${r.join(",")}}`),this}ilike(i,r){return this.url.searchParams.append(i,`ilike.${r}`),this}ilikeAllOf(i,r){return this.url.searchParams.append(i,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(i,r){return this.url.searchParams.append(i,`ilike(any).{${r.join(",")}}`),this}regexMatch(i,r){return this.url.searchParams.append(i,`match.${r}`),this}regexIMatch(i,r){return this.url.searchParams.append(i,`imatch.${r}`),this}is(i,r){return this.url.searchParams.append(i,`is.${r}`),this}isDistinct(i,r){return this.url.searchParams.append(i,`isdistinct.${r}`),this}in(i,r){const s=Array.from(new Set(r)).map(a=>typeof a=="string"&&vd.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}notIn(i,r){const s=Array.from(new Set(r)).map(a=>typeof a=="string"&&vd.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`not.in.(${s})`),this}contains(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cs.{${r.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(r)}`),this}containedBy(i,r){return typeof r=="string"?this.url.searchParams.append(i,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(i,`cd.{${r.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(r)}`),this}rangeGt(i,r){return this.url.searchParams.append(i,`sr.${r}`),this}rangeGte(i,r){return this.url.searchParams.append(i,`nxl.${r}`),this}rangeLt(i,r){return this.url.searchParams.append(i,`sl.${r}`),this}rangeLte(i,r){return this.url.searchParams.append(i,`nxr.${r}`),this}rangeAdjacent(i,r){return this.url.searchParams.append(i,`adj.${r}`),this}overlaps(i,r){return typeof r=="string"?this.url.searchParams.append(i,`ov.${r}`):this.url.searchParams.append(i,`ov.{${r.join(",")}}`),this}textSearch(i,r,{config:s,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${u}fts${c}.${r}`),this}match(i){return Object.entries(i).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(i,r,s){return this.url.searchParams.append(i,`not.${r}.${s}`),this}or(i,{foreignTable:r,referencedTable:s=r}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,r,s){return this.url.searchParams.append(i,`${r}.${s}`),this}},_p=class{constructor(i,{headers:r={},schema:s,fetch:a}){this.url=i,this.headers=new Headers(r),this.schema=s,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,r){const{head:s=!1,count:a}=r??{},u=s?"HEAD":"GET";let c=!1;const h=(i??"*").split("").map(y=>/\s/.test(y)&&!c?"":(y==='"'&&(c=!c),y)).join(""),{url:m,headers:g}=this.cloneRequestState();return m.searchParams.set("select",h),a&&g.append("Prefer",`count=${a}`),new fn({method:u,url:m,headers:g,schema:this.schema,fetch:this.fetch})}insert(i,{count:r,defaultToNull:s=!0}={}){var a;const u="POST",{url:c,headers:h}=this.cloneRequestState();if(r&&h.append("Prefer",`count=${r}`),s||h.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(m.length>0){const g=[...new Set(m)].map(y=>`"${y}"`);c.searchParams.set("columns",g.join(","))}}return new fn({method:u,url:c,headers:h,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:r,ignoreDuplicates:s=!1,count:a,defaultToNull:u=!0}={}){var c;const h="POST",{url:m,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&m.searchParams.set("on_conflict",r),a&&g.append("Prefer",`count=${a}`),u||g.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(y.length>0){const x=[...new Set(y)].map(b=>`"${b}"`);m.searchParams.set("columns",x.join(","))}}return new fn({method:h,url:m,headers:g,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:r}={}){var s;const a="PATCH",{url:u,headers:c}=this.cloneRequestState();return r&&c.append("Prefer",`count=${r}`),new fn({method:a,url:u,headers:c,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var r;const s="DELETE",{url:a,headers:u}=this.cloneRequestState();return i&&u.append("Prefer",`count=${i}`),new fn({method:s,url:a,headers:u,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},xp=class zd{constructor(r,{headers:s={},schema:a,fetch:u}={}){this.url=r,this.headers=new Headers(s),this.schemaName=a,this.fetch=u}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new _p(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new zd(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,s={},{head:a=!1,get:u=!1,count:c}={}){var h;let m;const g=new URL(`${this.url}/rpc/${r}`);let y;const x=k=>k!==null&&typeof k=="object"&&(!Array.isArray(k)||k.some(x)),b=a&&Object.values(s).some(x);b?(m="POST",y=s):a||u?(m=a?"HEAD":"GET",Object.entries(s).filter(([k,O])=>O!==void 0).map(([k,O])=>[k,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([k,O])=>{g.searchParams.append(k,O)})):(m="POST",y=s);const S=new Headers(this.headers);return b?S.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&S.set("Prefer",`count=${c}`),new fn({method:m,url:g,headers:S,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class kp{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const a=s.versions;if(a&&a.node){const u=a.node,c=parseInt(u.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const a=this.getWebSocketConstructor();return new a(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Sp="2.90.1",bp=`realtime-js/${Sp}`,Md="1.0.0",Ep="2.0.0",wd=Md,Ga=1e4,jp=1e3,Tp=100;var fr;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(fr||(fr={}));var Ie;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Ie||(Ie={}));var Nt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Nt||(Nt={}));var Ja;(function(i){i.websocket="websocket"})(Ja||(Ja={}));var Pr;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Pr||(Pr={}));class Cp{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,s){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(r));let a=[r.join_ref,r.ref,r.topic,r.event,r.payload];return s(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(r){var s;return this._isArrayBuffer((s=r.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var s,a;const u=(a=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(r){var s,a;const u=(a=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},h=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,s,a){var u,c;const h=r.topic,m=(u=r.ref)!==null&&u!==void 0?u:"",g=(c=r.join_ref)!==null&&c!==void 0?c:"",y=r.payload.event,x=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},b=Object.keys(x).length===0?"":JSON.stringify(x);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+h.length+y.length+b.length,k=new ArrayBuffer(this.HEADER_LENGTH+S);let O=new DataView(k),N=0;O.setUint8(N++,this.KINDS.userBroadcastPush),O.setUint8(N++,g.length),O.setUint8(N++,m.length),O.setUint8(N++,h.length),O.setUint8(N++,y.length),O.setUint8(N++,b.length),O.setUint8(N++,s),Array.from(g,U=>O.setUint8(N++,U.charCodeAt(0))),Array.from(m,U=>O.setUint8(N++,U.charCodeAt(0))),Array.from(h,U=>O.setUint8(N++,U.charCodeAt(0))),Array.from(y,U=>O.setUint8(N++,U.charCodeAt(0))),Array.from(b,U=>O.setUint8(N++,U.charCodeAt(0)));var P=new Uint8Array(k.byteLength+a.byteLength);return P.set(new Uint8Array(k),0),P.set(new Uint8Array(a),k.byteLength),P.buffer}decode(r,s){if(this._isArrayBuffer(r)){let a=this._binaryDecode(r);return s(a)}if(typeof r=="string"){const a=JSON.parse(r),[u,c,h,m,g]=a;return s({join_ref:u,ref:c,topic:h,event:m,payload:g})}return s({})}_binaryDecode(r){const s=new DataView(r),a=s.getUint8(0),u=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(r,s,u)}_decodeUserBroadcast(r,s,a){const u=s.getUint8(1),c=s.getUint8(2),h=s.getUint8(3),m=s.getUint8(4);let g=this.HEADER_LENGTH+4;const y=a.decode(r.slice(g,g+u));g=g+u;const x=a.decode(r.slice(g,g+c));g=g+c;const b=a.decode(r.slice(g,g+h));g=g+h;const S=r.slice(g,r.byteLength),k=m===this.JSON_ENCODING?JSON.parse(a.decode(S)):S,O={type:this.BROADCAST_EVENT,event:x,payload:k};return h>0&&(O.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(r){var s;return r instanceof ArrayBuffer||((s=r?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(r,s){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([a])=>s.includes(a)))}}class Bd{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ge;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(ge||(ge={}));const _d=(i,r,s={})=>{var a;const u=(a=s.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((c,h)=>(c[h]=Np(h,i,r,u),c),{}):{}},Np=(i,r,s,a)=>{const u=r.find(m=>m.name===i),c=u?.type,h=s[i];return c&&!a.includes(c)?Fd(c,h):Qa(h)},Fd=(i,r)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return Ap(r,s)}switch(i){case ge.bool:return Op(r);case ge.float4:case ge.float8:case ge.int2:case ge.int4:case ge.int8:case ge.numeric:case ge.oid:return Rp(r);case ge.json:case ge.jsonb:return Pp(r);case ge.timestamp:return Ip(r);case ge.abstime:case ge.date:case ge.daterange:case ge.int4range:case ge.int8range:case ge.money:case ge.reltime:case ge.text:case ge.time:case ge.timestamptz:case ge.timetz:case ge.tsrange:case ge.tstzrange:return Qa(r);default:return Qa(r)}},Qa=i=>i,Op=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Rp=i=>{if(typeof i=="string"){const r=parseFloat(i);if(!Number.isNaN(r))return r}return i},Pp=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},Ap=(i,r)=>{if(typeof i!="string")return i;const s=i.length-1,a=i[s];if(i[0]==="{"&&a==="}"){let c;const h=i.slice(1,s);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(m=>Fd(r,m))}return i},Ip=i=>typeof i=="string"?i.replace(" ","T"):i,qd=i=>{const r=new URL(i);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Da{constructor(r,s,a={},u=Ga){this.channel=r,this.event=s,this.payload=a,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var a;return this._hasReceived(r)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var xd;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(xd||(xd={}));class os{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},u=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=os.syncState(this.state,u,c,h),this.pendingDiffs.forEach(g=>{this.state=os.syncDiff(this.state,g,c,h)}),this.pendingDiffs=[],m()}),this.channel._on(a.diff,{},u=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=os.syncDiff(this.state,u,c,h),m())}),this.onJoin((u,c,h)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:h})}),this.onLeave((u,c,h)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,a,u){const c=this.cloneDeep(r),h=this.transformState(s),m={},g={};return this.map(c,(y,x)=>{h[y]||(g[y]=x)}),this.map(h,(y,x)=>{const b=c[y];if(b){const S=x.map(P=>P.presence_ref),k=b.map(P=>P.presence_ref),O=x.filter(P=>k.indexOf(P.presence_ref)<0),N=b.filter(P=>S.indexOf(P.presence_ref)<0);O.length>0&&(m[y]=O),N.length>0&&(g[y]=N)}else m[y]=x}),this.syncDiff(c,{joins:m,leaves:g},a,u)}static syncDiff(r,s,a,u){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),u||(u=()=>{}),this.map(c,(m,g)=>{var y;const x=(y=r[m])!==null&&y!==void 0?y:[];if(r[m]=this.cloneDeep(g),x.length>0){const b=r[m].map(k=>k.presence_ref),S=x.filter(k=>b.indexOf(k.presence_ref)<0);r[m].unshift(...S)}a(m,x,g)}),this.map(h,(m,g)=>{let y=r[m];if(!y)return;const x=g.map(b=>b.presence_ref);y=y.filter(b=>x.indexOf(b.presence_ref)<0),r[m]=y,u(m,y,g),y.length===0&&delete r[m]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(a=>s(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,a)=>{const u=r[a];return"metas"in u?s[a]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[a]=u,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kd;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(kd||(kd={}));var as;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(as||(as={}));var Ht;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Ht||(Ht={}));class gn{constructor(r,s={config:{}},a){var u,c;if(this.topic=r,this.params=s,this.socket=a,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Da(this,Nt.join,this.params,this.timeout),this.rejoinTimer=new Bd(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nt.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new os(this),this.broadcastEndpointURL=qd(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var a,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Ie.closed){const{config:{broadcast:h,presence:m,private:g}}=this.params,y=(u=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(k=>k.filter))!==null&&u!==void 0?u:[],x=!!this.bindings[as.PRESENCE]&&this.bindings[as.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,b={},S={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:x}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(k=>r?.(Ht.CHANNEL_ERROR,k)),this._onClose(()=>r?.(Ht.CLOSED)),this.updateJoinPayload(Object.assign({config:S},b)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:k})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),k===void 0){r?.(Ht.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,P=(O=N?.length)!==null&&O!==void 0?O:0,U=[];for(let R=0;R<P;R++){const A=N[R],{filter:{event:K,schema:le,table:ee,filter:ne}}=A,Te=k&&k[R];if(Te&&Te.event===K&&gn.isFilterValueEqual(Te.schema,le)&&gn.isFilterValueEqual(Te.table,ee)&&gn.isFilterValueEqual(Te.filter,ne))U.push(Object.assign(Object.assign({},A),{id:Te.id}));else{this.unsubscribe(),this.state=Ie.errored,r?.(Ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,r&&r(Ht.SUBSCRIBED);return}}).receive("error",k=>{this.state=Ie.errored,r?.(Ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{r?.(Ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,a){return this.state===Ie.joined&&r===as.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,s,a)}async httpSend(r,s,a={}){var u;if(s==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(u=a.timeout)!==null&&u!==void 0?u:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const y=await m.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(r,s={}){var a,u;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=r,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,m,g;const y=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ie.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(u=>{a=new Da(this,Nt.leave,{},r),a.receive("ok",()=>{s(),u("ok")}).receive("timeout",()=>{s(),u("timed out")}).receive("error",()=>{u("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ie.closed,this.bindings={}}async _fetchWithTimeout(r,s,a){const u=new AbortController,c=setTimeout(()=>u.abort(),a),h=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:u.signal}));return clearTimeout(c),h}_push(r,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Da(this,r,s,a);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Tp){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,a){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,a){var u,c;const h=r.toLocaleLowerCase(),{close:m,error:g,leave:y,join:x}=Nt;if(a&&[m,g,y,x].indexOf(h)>=0&&a!==this._joinRef())return;let S=this._onMessage(h,s,a);if(s&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(k=>{var O,N,P;return((O=k.filter)===null||O===void 0?void 0:O.event)==="*"||((P=(N=k.filter)===null||N===void 0?void 0:N.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===h}).map(k=>k.callback(S,a)):(c=this.bindings[h])===null||c===void 0||c.filter(k=>{var O,N,P,U,R,A,K,le;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in k){const ee=k.id,ne=(O=k.filter)===null||O===void 0?void 0:O.event;return ee&&((N=s.ids)===null||N===void 0?void 0:N.includes(ee))&&(ne==="*"||ne?.toLocaleLowerCase()===((P=s.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))&&(!(!((U=k.filter)===null||U===void 0)&&U.table)||k.filter.table===((R=s.data)===null||R===void 0?void 0:R.table))}else{const ee=(K=(A=k?.filter)===null||A===void 0?void 0:A.event)===null||K===void 0?void 0:K.toLocaleLowerCase();return ee==="*"||ee===((le=s?.event)===null||le===void 0?void 0:le.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===h}).map(k=>{if(typeof S=="object"&&"ids"in S){const O=S.data,{schema:N,table:P,commit_timestamp:U,type:R,errors:A}=O;S=Object.assign(Object.assign({},{schema:N,table:P,commit_timestamp:U,eventType:R,new:{},old:{},errors:A}),this._getPayloadRecords(O))}k.callback(S,a)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,a){const u=r.toLocaleLowerCase(),c={type:u,filter:s,callback:a};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(r,s){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&gn.isEqual(u.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const a in r)if(r[a]!==s[a])return!1;return!0}static isFilterValueEqual(r,s){return(r??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Nt.close,{},r)}_onError(r){this._on(Nt.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=_d(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=_d(r.columns,r.old_record)),s}}const za=()=>{},Ti={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Lp=[1e3,2e3,5e3,1e4],$p=1e4,Up=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Dp{constructor(r,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ga,this.transport=null,this.heartbeatIntervalMs=Ti.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=za,this.ref=0,this.reconnectTimer=null,this.vsn=wd,this.logger=za,this.conn=null,this.sendBuffer=[],this.serializer=new Cp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...c)=>u(...c):(...c)=>fetch(...c),!(!((a=s?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${Ja.websocket}`,this.httpEndpoint=qd(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kp.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,a){this.logger(r,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case fr.connecting:return Pr.Connecting;case fr.open:return Pr.Open;case fr.closing:return Pr.Closing;default:return Pr.Closed}}isConnected(){return this.connectionState()===Pr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const a=`realtime:${r}`,u=this.getChannels().find(c=>c.topic===a);if(u)return u;{const c=new gn(`realtime:${r}`,s,this);return this.channels.push(c),c}}push(r){const{topic:s,event:a,payload:u,ref:c}=r,h=()=>{this.encode(r,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${a} (${c})`,u),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(jp,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Ti.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",y)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:u,payload:c,ref:h}=s,m=h?`(${h})`:"",g=c.status||"";this.log("receive",`${g} ${a} ${u} ${m}`.trim(),c),this.channels.filter(y=>y._isMember(a)).forEach(y=>y._trigger(u,c,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===fr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===fr.open||this.conn.readyState===fr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Nt.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const a=r.match(/\?/)?"&":"?",u=new URLSearchParams(s);return`${r}${a}${u}`}_workerObjectUrl(r){let s;if(r)s=r;else{const a=new Blob([Up],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s,a=!1;if(r)s=r,a=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),s=this.accessTokenValue}else s=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(u=>{const c={access_token:s,version:bp};s&&u.updateJoinPayload(c),u.joinedOnce&&u._isJoined()&&u._push(Nt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(s)}catch(u){this.log("error",`error in ${r} callback`,u)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Bd(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ti.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,a,u,c,h,m,g,y,x,b,S,k;switch(this.transport=(s=r?.transport)!==null&&s!==void 0?s:null,this.timeout=(a=r?.timeout)!==null&&a!==void 0?a:Ga,this.heartbeatIntervalMs=(u=r?.heartbeatIntervalMs)!==null&&u!==void 0?u:Ti.HEARTBEAT_INTERVAL,this.worker=(c=r?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=r?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=r?.heartbeatCallback)!==null&&m!==void 0?m:za,this.vsn=(g=r?.vsn)!==null&&g!==void 0?g:wd,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=r?.reconnectAfterMs)!==null&&y!==void 0?y:(O=>Lp[O-1]||$p),this.vsn){case Md:this.encode=(x=r?.encode)!==null&&x!==void 0?x:((O,N)=>N(JSON.stringify(O))),this.decode=(b=r?.decode)!==null&&b!==void 0?b:((O,N)=>N(JSON.parse(O)));break;case Ep:this.encode=(S=r?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(k=r?.decode)!==null&&k!==void 0?k:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}var ls=class extends Error{constructor(i,r){super(i),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&r.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function zp(i,r,s){const a=new URL(r,i);if(s)for(const[u,c]of Object.entries(s))c!==void 0&&a.searchParams.set(u,c);return a.toString()}async function Mp(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Bp(i){const r=i.fetchImpl??globalThis.fetch;return{async request({method:s,path:a,query:u,body:c,headers:h}){const m=zp(i.baseUrl,a,u),g=await Mp(i.auth),y=await r(m,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...g,...h},body:c?JSON.stringify(c):void 0}),x=await y.text(),b=(y.headers.get("content-type")||"").includes("application/json"),S=b&&x?JSON.parse(x):x;if(!y.ok){const k=b?S:void 0,O=k?.error;throw new ls(O?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:O?.type,icebergCode:O?.code,details:k})}return{status:y.status,headers:y.headers,data:S}}}}function Ci(i){return i.join("")}var Fp=class{constructor(i,r=""){this.client=i,this.prefix=r}async listNamespaces(i){const r=i?{parent:Ci(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(i,r){const s={namespace:i.namespace,properties:r?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ci(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ci(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ci(i.namespace)}`}),!0}catch(r){if(r instanceof ls&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(i,r){try{return await this.createNamespace(i,r)}catch(s){if(s instanceof ls&&s.status===409)return;throw s}}};function an(i){return i.join("")}var qp=class{constructor(i,r="",s){this.client=i,this.prefix=r,this.accessDelegation=s}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${an(i.namespace)}/tables`})).data.identifiers}async createTable(i,r){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${an(i.namespace)}/tables`,body:r,headers:s})).data.metadata}async updateTable(i,r){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${an(i.namespace)}/tables/${i.name}`,body:r});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(i,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${an(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(r?.purge??!1)}})}async loadTable(i){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${an(i.namespace)}/tables/${i.name}`,headers:r})).data.metadata}async tableExists(i){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${an(i.namespace)}/tables/${i.name}`,headers:r}),!0}catch(s){if(s instanceof ls&&s.status===404)return!1;throw s}}async createTableIfNotExists(i,r){try{return await this.createTable(i,r)}catch(s){if(s instanceof ls&&s.status===409)return await this.loadTable({namespace:i.namespace,name:r.name});throw s}}},Wp=class{constructor(i){let r="v1";i.catalogName&&(r+=`/${i.catalogName}`);const s=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Bp({baseUrl:s,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new Fp(this.client,r),this.tableOps=new qp(this.client,r,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,r){return this.namespaceOps.createNamespace(i,r)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,r){return this.tableOps.createTable(i,r)}async updateTable(i,r){return this.tableOps.updateTable(i,r)}async dropTable(i,r){await this.tableOps.dropTable(i,r)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,r){return this.namespaceOps.createNamespaceIfNotExists(i,r)}async createTableIfNotExists(i,r){return this.tableOps.createTableIfNotExists(i,r)}},$i=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function Se(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Vp=class extends $i{constructor(i,r,s){super(i),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ya=class extends $i{constructor(i,r){super(i),this.name="StorageUnknownError",this.originalError=r}};const al=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Hp=()=>Response,Xa=i=>{if(Array.isArray(i))return i.map(s=>Xa(s));if(typeof i=="function"||i!==Object(i))return i;const r={};return Object.entries(i).forEach(([s,a])=>{const u=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[u]=Xa(a)}),r},Kp=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Gp=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function us(i){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},us(i)}function Jp(i,r){if(us(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,r);if(us(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}function Qp(i){var r=Jp(i,"string");return us(r)=="symbol"?r:r+""}function Yp(i,r,s){return(r=Qp(r))in i?Object.defineProperty(i,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[r]=s,i}function Sd(i,r){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);r&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),s.push.apply(s,a)}return s}function X(i){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Sd(Object(s),!0).forEach(function(a){Yp(i,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Sd(Object(s)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(s,a))})}return i}const Ma=i=>{var r;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(r=i.error)===null||r===void 0?void 0:r.message)||JSON.stringify(i)},Xp=async(i,r,s)=>{i instanceof await Hp()&&!s?.noResolveJson?i.json().then(a=>{const u=i.status||500,c=a?.statusCode||u+"";r(new Vp(Ma(a),u,c))}).catch(a=>{r(new Ya(Ma(a),a))}):r(new Ya(Ma(i),i))},Zp=(i,r,s,a)=>{const u={method:i,headers:r?.headers||{}};return i==="GET"||!a?u:(Kp(a)?(u.headers=X({"Content-Type":"application/json"},r?.headers),u.body=JSON.stringify(a)):u.body=a,r?.duplex&&(u.duplex=r.duplex),X(X({},u),s))};async function ps(i,r,s,a,u,c){return new Promise((h,m)=>{i(s,Zp(r,a,u,c)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>Xp(g,m,a))})}async function cs(i,r,s,a){return ps(i,"GET",r,s,a)}async function Ct(i,r,s,a,u){return ps(i,"POST",r,a,u,s)}async function Za(i,r,s,a,u){return ps(i,"PUT",r,a,u,s)}async function em(i,r,s,a){return ps(i,"HEAD",r,X(X({},s),{},{noResolveJson:!0}),a)}async function ll(i,r,s,a,u){return ps(i,"DELETE",r,a,u,s)}var tm=class{constructor(i,r){this.downloadFn=i,this.shouldThrowOnError=r}then(i,r){return this.execute().then(i,r)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}}};let Wd;Wd=Symbol.toStringTag;var rm=class{constructor(i,r){this.downloadFn=i,this.shouldThrowOnError=r,this[Wd]="BlobDownloadBuilder",this.promise=null}asStream(){return new tm(this.downloadFn,this.shouldThrowOnError)}then(i,r){return this.getPromise().then(i,r)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(r){if(i.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}}};const nm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var sm=class{constructor(i,r={},s,a){this.shouldThrowOnError=!1,this.url=i,this.headers=r,this.bucketId=s,this.fetch=al(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(i,r,s,a){var u=this;try{let c;const h=X(X({},bd),a);let m=X(X({},u.headers),i==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",u.encodeMetadata(g)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),g&&!c.has("metadata")&&c.append("metadata",u.encodeMetadata(g))):(c=s,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,g&&(m["x-metadata"]=u.toBase64(u.encodeMetadata(g))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),a?.headers&&(m=X(X({},m),a.headers));const y=u._removeEmptyFolders(r),x=u._getFinalPath(y),b=await(i=="PUT"?Za:Ct)(u.fetch,`${u.url}/object/${x}`,c,X({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:b.Id,fullPath:b.Key},error:null}}catch(c){if(u.shouldThrowOnError)throw c;if(Se(c))return{data:null,error:c};throw c}}async upload(i,r,s){return this.uploadOrUpdate("POST",i,r,s)}async uploadToSignedUrl(i,r,s,a){var u=this;const c=u._removeEmptyFolders(i),h=u._getFinalPath(c),m=new URL(u.url+`/object/upload/sign/${h}`);m.searchParams.set("token",r);try{let g;const y=X({upsert:bd.upsert},a),x=X(X({},u.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",y.cacheControl)):(g=s,x["cache-control"]=`max-age=${y.cacheControl}`,x["content-type"]=y.contentType),{data:{path:c,fullPath:(await Za(u.fetch,m.toString(),g,{headers:x})).Key},error:null}}catch(g){if(u.shouldThrowOnError)throw g;if(Se(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(i,r){var s=this;try{let a=s._getFinalPath(i);const u=X({},s.headers);r?.upsert&&(u["x-upsert"]="true");const c=await Ct(s.fetch,`${s.url}/object/upload/sign/${a}`,{},{headers:u}),h=new URL(s.url+c.url),m=h.searchParams.get("token");if(!m)throw new $i("No token returned by API");return{data:{signedUrl:h.toString(),path:i,token:m},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}}async update(i,r,s){return this.uploadOrUpdate("PUT",i,r,s)}async move(i,r,s){var a=this;try{return{data:await Ct(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:i,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:a.headers}),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Se(u))return{data:null,error:u};throw u}}async copy(i,r,s){var a=this;try{return{data:{path:(await Ct(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:i,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:a.headers})).Key},error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Se(u))return{data:null,error:u};throw u}}async createSignedUrl(i,r,s){var a=this;try{let u=a._getFinalPath(i),c=await Ct(a.fetch,`${a.url}/object/sign/${u}`,X({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:a.headers});const h=s?.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${a.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Se(u))return{data:null,error:u};throw u}}async createSignedUrls(i,r,s){var a=this;try{const u=await Ct(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:r,paths:i},{headers:a.headers}),c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:u.map(h=>X(X({},h),{},{signedUrl:h.signedURL?encodeURI(`${a.url}${h.signedURL}${c}`):null})),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Se(u))return{data:null,error:u};throw u}}download(i,r){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),u=a?`?${a}`:"",c=this._getFinalPath(i),h=()=>cs(this.fetch,`${this.url}/${s}/${c}${u}`,{headers:this.headers,noResolveJson:!0});return new rm(h,this.shouldThrowOnError)}async info(i){var r=this;const s=r._getFinalPath(i);try{return{data:Xa(await cs(r.fetch,`${r.url}/object/info/${s}`,{headers:r.headers})),error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}}async exists(i){var r=this;const s=r._getFinalPath(i);try{return await em(r.fetch,`${r.url}/object/${s}`,{headers:r.headers}),{data:!0,error:null}}catch(a){if(r.shouldThrowOnError)throw a;if(Se(a)&&a instanceof Ya){const u=a.originalError;if([400,404].includes(u?.status))return{data:!1,error:a}}throw a}}getPublicUrl(i,r){const s=this._getFinalPath(i),a=[],u=r?.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&a.push(u);const c=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&a.push(h);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${m}`)}}}async remove(i){var r=this;try{return{data:await ll(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:i},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}async list(i,r,s){var a=this;try{const u=X(X(X({},nm),r),{},{prefix:i||""});return{data:await Ct(a.fetch,`${a.url}/object/list/${a.bucketId}`,u,{headers:a.headers},s),error:null}}catch(u){if(a.shouldThrowOnError)throw u;if(Se(u))return{data:null,error:u};throw u}}async listV2(i,r){var s=this;try{const a=X({},i);return{data:await Ct(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,a,{headers:s.headers},r),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const r=[];return i.width&&r.push(`width=${i.width}`),i.height&&r.push(`height=${i.height}`),i.resize&&r.push(`resize=${i.resize}`),i.format&&r.push(`format=${i.format}`),i.quality&&r.push(`quality=${i.quality}`),r.join("&")}};const Vd="2.90.1",Hd={"X-Client-Info":`storage-js/${Vd}`};var im=class{constructor(i,r={},s,a){this.shouldThrowOnError=!1;const u=new URL(i);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=X(X({},Hd),r),this.fetch=al(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(i){var r=this;try{const s=r.listBucketOptionsToQueryString(i);return{data:await cs(r.fetch,`${r.url}/bucket${s}`,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}async getBucket(i){var r=this;try{return{data:await cs(r.fetch,`${r.url}/bucket/${i}`,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}async createBucket(i,r={public:!1}){var s=this;try{return{data:await Ct(s.fetch,`${s.url}/bucket`,{id:i,name:i,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}}async updateBucket(i,r){var s=this;try{return{data:await Za(s.fetch,`${s.url}/bucket/${i}`,{id:i,name:i,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}}async emptyBucket(i){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/bucket/${i}/empty`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}async deleteBucket(i){var r=this;try{return{data:await ll(r.fetch,`${r.url}/bucket/${i}`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(i){const r={};return i&&("limit"in i&&(r.limit=String(i.limit)),"offset"in i&&(r.offset=String(i.offset)),i.search&&(r.search=i.search),i.sortColumn&&(r.sortColumn=i.sortColumn),i.sortOrder&&(r.sortOrder=i.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},om=class{constructor(i,r={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=X(X({},Hd),r),this.fetch=al(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var r=this;try{return{data:await Ct(r.fetch,`${r.url}/bucket`,{name:i},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}async listBuckets(i){var r=this;try{const s=new URLSearchParams;i?.limit!==void 0&&s.set("limit",i.limit.toString()),i?.offset!==void 0&&s.set("offset",i.offset.toString()),i?.sortColumn&&s.set("sortColumn",i.sortColumn),i?.sortOrder&&s.set("sortOrder",i.sortOrder),i?.search&&s.set("search",i.search);const a=s.toString(),u=a?`${r.url}/bucket?${a}`:`${r.url}/bucket`;return{data:await cs(r.fetch,u,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}async deleteBucket(i){var r=this;try{return{data:await ll(r.fetch,`${r.url}/bucket/${i}`,{},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}}from(i){var r=this;if(!Gp(i))throw new $i("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Wp({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(s,{get(u,c){const h=u[c];return typeof h!="function"?h:async(...m)=>{try{return{data:await h.apply(u,m),error:null}}catch(g){if(a)throw g;return{data:null,error:g}}}}})}};const ul={"X-Client-Info":`storage-js/${Vd}`,"Content-Type":"application/json"};var Kd=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function dt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var Ba=class extends Kd{constructor(i,r,s){super(i),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},am=class extends Kd{constructor(i,r){super(i),this.name="StorageVectorsUnknownError",this.originalError=r}};const cl=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),lm=i=>{if(typeof i!="object"||i===null)return!1;const r=Object.getPrototypeOf(i);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Ed=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),um=async(i,r,s)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!s?.noResolveJson){const a=i.status||500,u=i;if(typeof u.json=="function")u.json().then(c=>{const h=c?.statusCode||c?.code||a+"";r(new Ba(Ed(c),a,h))}).catch(()=>{const c=a+"";r(new Ba(u.statusText||`HTTP ${a} error`,a,c))});else{const c=a+"";r(new Ba(u.statusText||`HTTP ${a} error`,a,c))}}else r(new am(Ed(i),i))},cm=(i,r,s,a)=>{const u={method:i,headers:r?.headers||{}};return a?(lm(a)?(u.headers=X({"Content-Type":"application/json"},r?.headers),u.body=JSON.stringify(a)):u.body=a,X(X({},u),s)):u};async function dm(i,r,s,a,u,c){return new Promise((h,m)=>{i(s,cm(r,a,u,c)).then(g=>{if(!g.ok)throw g;if(a?.noResolveJson)return g;const y=g.headers.get("content-type");return!y||!y.includes("application/json")?{}:g.json()}).then(g=>h(g)).catch(g=>um(g,m,a))})}async function ht(i,r,s,a,u){return dm(i,"POST",r,a,u,s)}var hm=class{constructor(i,r={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=X(X({},ul),r),this.fetch=cl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(i){var r=this;try{return{data:await ht(r.fetch,`${r.url}/CreateIndex`,i,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}async getIndex(i,r){var s=this;try{return{data:await ht(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:i,indexName:r},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}}async listIndexes(i){var r=this;try{return{data:await ht(r.fetch,`${r.url}/ListIndexes`,i,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}async deleteIndex(i,r){var s=this;try{return{data:await ht(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:i,indexName:r},{headers:s.headers})||{},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(dt(a))return{data:null,error:a};throw a}}},fm=class{constructor(i,r={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=X(X({},ul),r),this.fetch=cl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(i){var r=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ht(r.fetch,`${r.url}/PutVectors`,i,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}async getVectors(i){var r=this;try{return{data:await ht(r.fetch,`${r.url}/GetVectors`,i,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}async listVectors(i){var r=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:await ht(r.fetch,`${r.url}/ListVectors`,i,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}async queryVectors(i){var r=this;try{return{data:await ht(r.fetch,`${r.url}/QueryVectors`,i,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}async deleteVectors(i){var r=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ht(r.fetch,`${r.url}/DeleteVectors`,i,{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}},pm=class{constructor(i,r={},s){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=X(X({},ul),r),this.fetch=cl(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var r=this;try{return{data:await ht(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}async getBucket(i){var r=this;try{return{data:await ht(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:i},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}async listBuckets(i={}){var r=this;try{return{data:await ht(r.fetch,`${r.url}/ListVectorBuckets`,i,{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}async deleteBucket(i){var r=this;try{return{data:await ht(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}},mm=class extends pm{constructor(i,r={}){super(i,r.headers||{},r.fetch)}from(i){return new gm(this.url,this.headers,i,this.fetch)}async createBucket(i){var r=()=>super.createBucket,s=this;return r().call(s,i)}async getBucket(i){var r=()=>super.getBucket,s=this;return r().call(s,i)}async listBuckets(i={}){var r=()=>super.listBuckets,s=this;return r().call(s,i)}async deleteBucket(i){var r=()=>super.deleteBucket,s=this;return r().call(s,i)}},gm=class extends hm{constructor(i,r,s,a){super(i,r,a),this.vectorBucketName=s}async createIndex(i){var r=()=>super.createIndex,s=this;return r().call(s,X(X({},i),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(i={}){var r=()=>super.listIndexes,s=this;return r().call(s,X(X({},i),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(i){var r=()=>super.getIndex,s=this;return r().call(s,s.vectorBucketName,i)}async deleteIndex(i){var r=()=>super.deleteIndex,s=this;return r().call(s,s.vectorBucketName,i)}index(i){return new ym(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},ym=class extends fm{constructor(i,r,s,a,u){super(i,r,u),this.vectorBucketName=s,this.indexName=a}async putVectors(i){var r=()=>super.putVectors,s=this;return r().call(s,X(X({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(i){var r=()=>super.getVectors,s=this;return r().call(s,X(X({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(i={}){var r=()=>super.listVectors,s=this;return r().call(s,X(X({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(i){var r=()=>super.queryVectors,s=this;return r().call(s,X(X({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(i){var r=()=>super.deleteVectors,s=this;return r().call(s,X(X({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},vm=class extends im{constructor(i,r={},s,a){super(i,r,s,a)}from(i){return new sm(this.url,this.headers,i,this.fetch)}get vectors(){return new mm(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new om(this.url+"/iceberg",this.headers,this.fetch)}};const Gd="2.90.1",pn=30*1e3,el=3,Fa=el*pn,wm="http://localhost:9999",_m="supabase.auth.token",xm={"X-Client-Info":`gotrue-js/${Gd}`},tl="X-Supabase-Api-Version",Jd={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},km=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Sm=600*1e3;class ds extends Error{constructor(r,s,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function G(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class bm extends ds{constructor(r,s,a){super(r,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function Em(i){return G(i)&&i.name==="AuthApiError"}class Ar extends ds{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class Kt extends ds{constructor(r,s,a,u){super(r,a,u),this.name=s,this.status=a}}class ut extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jm(i){return G(i)&&i.name==="AuthSessionMissingError"}class ln extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ni extends Kt{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Oi extends Kt{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tm(i){return G(i)&&i.name==="AuthImplicitGrantRedirectError"}class jd extends Kt{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cm extends Kt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class rl extends Kt{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function qa(i){return G(i)&&i.name==="AuthRetryableFetchError"}class Td extends Kt{constructor(r,s,a){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class nl extends Kt{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cd=` 	
\r=`.split(""),Nm=(()=>{const i=new Array(128);for(let r=0;r<i.length;r+=1)i[r]=-1;for(let r=0;r<Cd.length;r+=1)i[Cd[r].charCodeAt(0)]=-2;for(let r=0;r<Ri.length;r+=1)i[Ri[r].charCodeAt(0)]=r;return i})();function Nd(i,r,s){if(i!==null)for(r.queue=r.queue<<8|i,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(Ri[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(Ri[a]),r.queuedBits-=6}}function Qd(i,r,s){const a=Nm[i];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Od(i){const r=[],s=h=>{r.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=h=>{Pm(h,a,s)};for(let h=0;h<i.length;h+=1)Qd(i.charCodeAt(h),u,c);return r.join("")}function Om(i,r){if(i<=127){r(i);return}else if(i<=2047){r(192|i>>6),r(128|i&63);return}else if(i<=65535){r(224|i>>12),r(128|i>>6&63),r(128|i&63);return}else if(i<=1114111){r(240|i>>18),r(128|i>>12&63),r(128|i>>6&63),r(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Rm(i,r){for(let s=0;s<i.length;s+=1){let a=i.charCodeAt(s);if(a>55295&&a<=56319){const u=(a-55296)*1024&65535;a=(i.charCodeAt(s+1)-56320&65535|u)+65536,s+=1}Om(a,r)}}function Pm(i,r,s){if(r.utf8seq===0){if(i<=127){s(i);return}for(let a=1;a<6;a+=1)if((i>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=i&31;else if(r.utf8seq===3)r.codepoint=i&15;else if(r.utf8seq===4)r.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|i&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function yn(i){const r=[],s={queue:0,queuedBits:0},a=u=>{r.push(u)};for(let u=0;u<i.length;u+=1)Qd(i.charCodeAt(u),s,a);return new Uint8Array(r)}function Am(i){const r=[];return Rm(i,s=>r.push(s)),new Uint8Array(r)}function Ir(i){const r=[],s={queue:0,queuedBits:0},a=u=>{r.push(u)};return i.forEach(u=>Nd(u,s,a)),Nd(null,s,a),r.join("")}function Im(i){return Math.round(Date.now()/1e3)+i}function Lm(){return Symbol("auth-callback")}const qe=()=>typeof window<"u"&&typeof document<"u",Nr={tested:!1,writable:!1},Yd=()=>{if(!qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nr.tested)return Nr.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Nr.tested=!0,Nr.writable=!0}catch{Nr.tested=!0,Nr.writable=!1}return Nr.writable};function $m(i){const r={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((u,c)=>{r[c]=u})}catch{}return s.searchParams.forEach((a,u)=>{r[u]=a}),r}const Xd=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),Um=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",mn=async(i,r,s)=>{await i.setItem(r,JSON.stringify(s))},Or=async(i,r)=>{const s=await i.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Fe=async(i,r)=>{await i.removeItem(r)};class Ui{constructor(){this.promise=new Ui.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Ui.promiseConstructor=Promise;function Wa(i){const r=i.split(".");if(r.length!==3)throw new nl("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!km.test(r[a]))throw new nl("JWT not in base64url format");return{header:JSON.parse(Od(r[0])),payload:JSON.parse(Od(r[1])),signature:yn(r[2]),raw:{header:r[0],payload:r[1]}}}async function Dm(i){return await new Promise(r=>{setTimeout(()=>r(null),i)})}function zm(i,r){return new Promise((a,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await i(c);if(!r(c,null,h)){a(h);return}}catch(h){if(!r(c,h)){u(h);return}}})()})}function Mm(i){return("0"+i.toString(16)).substr(-2)}function Bm(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let u="";for(let c=0;c<56;c++)u+=s.charAt(Math.floor(Math.random()*a));return u}return crypto.getRandomValues(r),Array.from(r,Mm).join("")}async function Fm(i){const s=new TextEncoder().encode(i),a=await crypto.subtle.digest("SHA-256",s),u=new Uint8Array(a);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function qm(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await Fm(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function un(i,r,s=!1){const a=Bm();let u=a;s&&(u+="/PASSWORD_RECOVERY"),await mn(i,`${r}-code-verifier`,u);const c=await qm(a);return[c,a===c?"plain":"s256"]}const Wm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vm(i){const r=i.headers.get(tl);if(!r||!r.match(Wm))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Hm(i){if(!i)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(i<=r)throw new Error("JWT has expired")}function Km(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cn(i){if(!Gm.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Va(){const i={};return new Proxy(i,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jm(i,r){return new Proxy(i,{get:(s,a,u)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const c=a.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,a,u)}return!r.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(s,a,u)}})}function Rd(i){return JSON.parse(JSON.stringify(i))}const Rr=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Qm=[502,503,504];async function Pd(i){var r;if(!Um(i))throw new rl(Rr(i),0);if(Qm.includes(i.status))throw new rl(Rr(i),i.status);let s;try{s=await i.json()}catch(c){throw new Ar(Rr(c),c)}let a;const u=Vm(i);if(u&&u.getTime()>=Jd["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new Td(Rr(s),i.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new ut}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new Td(Rr(s),i.status,s.weak_password.reasons);throw new bm(Rr(s),i.status||500,a)}const Ym=(i,r,s,a)=>{const u={method:i,headers:r?.headers||{}};return i==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),u.body=JSON.stringify(a),Object.assign(Object.assign({},u),s))};async function Y(i,r,s,a){var u;const c=Object.assign({},a?.headers);c[tl]||(c[tl]=Jd["2024-01-01"].name),a?.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const h=(u=a?.query)!==null&&u!==void 0?u:{};a?.redirectTo&&(h.redirect_to=a.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await Xm(i,r,s+m,{headers:c,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function Xm(i,r,s,a,u,c){const h=Ym(r,a,u,c);let m;try{m=await i(s,Object.assign({},h))}catch(g){throw console.error(g),new rl(Rr(g),0)}if(m.ok||await Pd(m),a?.noResolveJson)return m;try{return await m.json()}catch(g){await Pd(g)}}function Tt(i){var r;let s=null;tg(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=Im(i.expires_in)));const a=(r=i.user)!==null&&r!==void 0?r:i;return{data:{session:s,user:a},error:null}}function Ad(i){const r=Tt(i);return!r.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(r.data.weak_password=i.weak_password),r}function pr(i){var r;return{data:{user:(r=i.user)!==null&&r!==void 0?r:i},error:null}}function Zm(i){return{data:i,error:null}}function eg(i){const{action_link:r,email_otp:s,hashed_token:a,redirect_to:u,verification_type:c}=i,h=Li(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:s,hashed_token:a,redirect_to:u,verification_type:c},g=Object.assign({},h);return{data:{properties:m,user:g},error:null}}function Id(i){return i}function tg(i){return i.access_token&&i.refresh_token&&i.expires_in}const Ha=["global","local","others"];class rg{constructor({url:r="",headers:s={},fetch:a}){this.url=r,this.headers=s,this.fetch=Xd(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=Ha[0]){if(Ha.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ha.join(", ")}`);try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(G(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,s={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:pr})}catch(a){if(G(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:s}=r,a=Li(r,["options"]),u=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(u.new_email=a?.newEmail,delete u.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:eg,redirectTo:s?.redirectTo})}catch(s){if(G(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:pr})}catch(s){if(G(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,a,u,c,h,m,g;try{const y={nextPage:null,lastPage:0,total:0},x=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(u=r?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Id});if(x.error)throw x.error;const b=await x.json(),S=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,k=(g=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return k.length>0&&(k.forEach(O=>{const N=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(O.split(";")[1].split("=")[1]);y[`${P}Page`]=N}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(G(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){cn(r);try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:pr})}catch(s){if(G(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){cn(r);try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:pr})}catch(a){if(G(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,s=!1){cn(r);try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:pr})}catch(a){if(G(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){cn(r.userId);try{const{data:s,error:a}=await Y(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:s,error:a}}catch(s){if(G(s))return{data:null,error:s};throw s}}async _deleteFactor(r){cn(r.userId),cn(r.id);try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(G(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,a,u,c,h,m,g;try{const y={nextPage:null,lastPage:0,total:0},x=await Y(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(u=r?.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Id});if(x.error)throw x.error;const b=await x.json(),S=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,k=(g=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return k.length>0&&(k.forEach(O=>{const N=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(O.split(";")[1].split("=")[1]);y[`${P}Page`]=N}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(G(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(r){try{return await Y(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(G(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await Y(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(G(s))return{data:null,error:s};throw s}}async _updateOAuthClient(r,s){try{return await Y(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:s,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(G(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(r){try{return await Y(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(G(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await Y(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(G(s))return{data:null,error:s};throw s}}}function Ld(i={}){return{getItem:r=>i[r]||null,setItem:(r,s)=>{i[r]=s},removeItem:r=>{delete i[r]}}}const dn={debug:!!(globalThis&&Yd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zd extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class ng extends Zd{}async function sg(i,r,s){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async u=>{if(u){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,u.name);try{return await s()}finally{dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,u.name)}}else{if(r===0)throw dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new ng(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(dn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function ig(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eh(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function og(i){return parseInt(i,16)}function ag(i){const r=new TextEncoder().encode(i);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function lg(i){var r;const{chainId:s,domain:a,expirationTime:u,issuedAt:c=new Date,nonce:h,notBefore:m,requestId:g,resources:y,scheme:x,uri:b,version:S}=i;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((r=i.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const k=eh(i.address),O=x?`${x}://${a}`:a,N=i.statement?`${i.statement}
`:"",P=`${O} wants you to sign in with your Ethereum account:
${k}

${N}`;let U=`URI: ${b}
Version: ${S}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(u&&(U+=`
Expiration Time: ${u.toISOString()}`),m&&(U+=`
Not Before: ${m.toISOString()}`),g&&(U+=`
Request ID: ${g}`),y){let R=`
Resources:`;for(const A of y){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);R+=`
- ${A}`}U+=R}return`${P}
${U}`}class Re extends Error{constructor({message:r,code:s,cause:a,name:u}){var c;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=u??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Pi extends Re{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function ug({error:i,options:r}){var s,a,u;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Re({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Re({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(r.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Re({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Re({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Re({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Re({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Re({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Re({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const h=window.location.hostname;if(th(h)){if(c.rp.id!==h)return new Re({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Re({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Re({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function cg({error:i,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Re({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Re({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const a=window.location.hostname;if(th(a)){if(s.rpId!==a)return new Re({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Re({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Re({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Re({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class dg{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const hg=new dg;function fg(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:r,user:s,excludeCredentials:a}=i,u=Li(i,["challenge","user","excludeCredentials"]),c=yn(r).buffer,h=Object.assign(Object.assign({},s),{id:yn(s.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:c,user:h});if(a&&a.length>0){m.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const y=a[g];m.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:yn(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function pg(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:r,allowCredentials:s}=i,a=Li(i,["challenge","allowCredentials"]),u=yn(r).buffer,c=Object.assign(Object.assign({},a),{challenge:u});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];c.allowCredentials[h]=Object.assign(Object.assign({},m),{id:yn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function mg(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i;return{id:i.id,rawId:i.id,response:{attestationObject:Ir(new Uint8Array(i.response.attestationObject)),clientDataJSON:Ir(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function gg(i){var r;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i,a=i.getClientExtensionResults(),u=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Ir(new Uint8Array(u.authenticatorData)),clientDataJSON:Ir(new Uint8Array(u.clientDataJSON)),signature:Ir(new Uint8Array(u.signature)),userHandle:u.userHandle?Ir(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function th(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function $d(){var i,r;return!!(qe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function yg(i){try{const r=await navigator.credentials.create(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Pi("Browser returned unexpected credential type",r)}:{data:null,error:new Pi("Empty credential response",r)}}catch(r){return{data:null,error:ug({error:r,options:i})}}}async function vg(i){try{const r=await navigator.credentials.get(i);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Pi("Browser returned unexpected credential type",r)}:{data:null,error:new Pi("Empty credential response",r)}}catch(r){return{data:null,error:cg({error:r,options:i})}}}const wg={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_g={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ai(...i){const r=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),s=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),a={};for(const u of i)if(u)for(const c in u){const h=u[c];if(h!==void 0)if(Array.isArray(h))a[c]=h;else if(s(h))a[c]=h;else if(r(h)){const m=a[c];r(m)?a[c]=Ai(m,h):a[c]=Ai(h)}else a[c]=h}return a}function xg(i,r){return Ai(wg,i,r||{})}function kg(i,r){return Ai(_g,i,r||{})}class Sg{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:a,signal:u},c){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!h)return{data:null,error:m};const g=u??hg.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${a}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=xg(h.webauthn.credential_options.publicKey,c?.create),{data:x,error:b}=await yg({publicKey:y,signal:g});return x?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}case"request":{const y=kg(h.webauthn.credential_options.publicKey,c?.request),{data:x,error:b}=await vg(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:g}));return x?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}}}catch(h){return G(h)?{data:null,error:h}:{data:null,error:new Ar("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new ds("rpId is required for WebAuthn authentication")};try{if(!$d())return{data:null,error:new Ar("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:a},signal:u},{request:c});if(!h)return{data:null,error:m};const{webauthn:g}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:a,credential_response:g.credential_response}})}catch(h){return G(h)?{data:null,error:h}:{data:null,error:new Ar("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},c){if(!s)return{data:null,error:new ds("rpId is required for WebAuthn registration")};try{if(!$d())return{data:null,error:new Ar("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(x=>{var b;return(b=x.data)===null||b===void 0?void 0:b.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===r&&S.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x?.id}):void 0),{data:null,error:m};const{data:g,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:u},{create:c});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(h){return G(h)?{data:null,error:h}:{data:null,error:new Ar("Unexpected error in register",h)}}}}ig();const bg={url:wm,storageKey:_m,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ud(i,r,s){return await s()}const hn={};class hs{get jwks(){var r,s;return(s=(r=hn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){hn[this.storageKey]=Object.assign(Object.assign({},hn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=hn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){hn[this.storageKey]=Object.assign(Object.assign({},hn[this.storageKey]),{cachedAt:r})}constructor(r){var s,a,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},bg),r);if(this.storageKey=c.storageKey,this.instanceID=(s=hs.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,hs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&qe()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new rg({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=Xd(c.fetch),this.lock=c.lock||Ud,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&qe()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=sg:this.lock=Ud,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Sg(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Yd()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ld(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Ld(this.memoryStorage)),qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gd}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let s={},a="none";if(qe()&&(s=$m(window.location.href),this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce")),qe()&&this.detectSessionInUrl&&a!=="none"){const{data:u,error:c}=await this._getSessionFromURL(s,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Tm(c)){const g=(r=c.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:h,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return G(s)?this._returnResult({error:s}):this._returnResult({error:new Ar("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,a,u;try{const c=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=r?.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(u=r?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Tt}),{data:h,error:m}=c;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(G(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var s,a,u;try{let c;if("email"in r){const{email:x,password:b,options:S}=r;let k=null,O=null;this.flowType==="pkce"&&([k,O]=await un(this.storage,this.storageKey)),c=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:x,password:b,data:(s=S?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:k,code_challenge_method:O},xform:Tt})}else if("phone"in r){const{phone:x,password:b,options:S}=r;c=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:b,data:(a=S?.data)!==null&&a!==void 0?a:{},channel:(u=S?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Tt})}else throw new Ni("You must provide either an email or phone number and a password");const{data:h,error:m}=c;if(m||!h)return await Fe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),G(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let s;if("email"in r){const{email:c,password:h,options:m}=r;s=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Ad})}else if("phone"in r){const{phone:c,password:h,options:m}=r;s=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Ad})}else throw new Ni("You must provide either an email or phone number and a password");const{data:a,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a||!a.session||!a.user){const c=new ln;return this._returnResult({data:{user:null,session:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:u})}catch(s){if(G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(r){var s,a,u,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=r.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,a,u,c,h,m,g,y,x,b,S;let k,O;if("message"in r)k=r.message,O=r.signature;else{const{chain:N,wallet:P,statement:U,options:R}=r;let A;if(qe())if(typeof P=="object")A=P;else{const Le=window;if("ethereum"in Le&&typeof Le.ethereum=="object"&&"request"in Le.ethereum&&typeof Le.ethereum.request=="function")A=Le.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=P}const K=new URL((s=R?.url)!==null&&s!==void 0?s:window.location.href),le=await A.request({method:"eth_requestAccounts"}).then(Le=>Le).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!le||le.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ee=eh(le[0]);let ne=(a=R?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!ne){const Le=await A.request({method:"eth_chainId"});ne=og(Le)}const Te={domain:K.host,address:ee,statement:U,uri:K.href,version:"1",chainId:ne,nonce:(u=R?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(h=(c=R?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=R?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=R?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=R?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(x=R?.signInWithEthereum)===null||x===void 0?void 0:x.resources};k=lg(Te),O=await A.request({method:"personal_sign",params:[ag(k),ee]})}try{const{data:N,error:P}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:O},!((b=r.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Tt});if(P)throw P;if(!N||!N.session||!N.user){const U=new ln;return this._returnResult({data:{user:null,session:null},error:U})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:P})}catch(N){if(G(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(r){var s,a,u,c,h,m,g,y,x,b,S,k;let O,N;if("message"in r)O=r.message,N=r.signature;else{const{chain:P,wallet:U,statement:R,options:A}=r;let K;if(qe())if(typeof U=="object")K=U;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))K=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=U}const le=new URL((s=A?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in K&&K.signIn){const ee=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:le.host,uri:le.href}),R?{statement:R}:null));let ne;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")ne=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)ne=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)O=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),N=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${le.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${le.href}`,`Issued At: ${(u=(a=A?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=A?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((g=A?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((y=A?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((b=(x=A?.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||b===void 0)&&b.length?["Resources",...A.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const ee=await K.signMessage(new TextEncoder().encode(O),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=ee}}try{const{data:P,error:U}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:Ir(N)},!((S=r.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(k=r.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Tt});if(U)throw U;if(!P||!P.session||!P.user){const R=new ln;return this._returnResult({data:{user:null,session:null},error:R})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:U})}catch(P){if(G(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async _exchangeCodeForSession(r){const s=await Or(this.storage,`${this.storageKey}-code-verifier`),[a,u]=(s??"").split("/");try{if(!a&&this.flowType==="pkce")throw new Cm;const{data:c,error:h}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:Tt});if(await Fe(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const m=new ln;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:h})}catch(c){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),G(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:s,provider:a,token:u,access_token:c,nonce:h}=r,m=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:u,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Tt}),{data:g,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const x=new ln;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(s){if(G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(r){var s,a,u,c,h;try{if("email"in r){const{email:m,options:g}=r;let y=null,x=null;this.flowType==="pkce"&&([y,x]=await un(this.storage,this.storageKey));const{error:b}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:x},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in r){const{phone:m,options:g}=r,{data:y,error:x}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:x})}throw new Ni("You must provide either an email or phone number.")}catch(m){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),G(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(r){var s,a;try{let u,c;"options"in r&&(u=(s=r.options)===null||s===void 0?void 0:s.redirectTo,c=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:m}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:Tt});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,y=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(u){if(G(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(r){var s,a,u,c,h;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await un(this.storage,this.storageKey));const y=await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((u=r?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:Zm});return!((c=y.data)===null||c===void 0)&&c.url&&qe()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),G(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)throw a;if(!s)throw new ut;const{error:u}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(r){if(G(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:a,type:u,options:c}=r,{error:h}=await Y(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:a,type:u,options:c}=r,{data:h,error:m}=await Y(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:u,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new Ni("You must provide either an email or phone number and a type")}catch(s){if(G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<Fa:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const h=await Or(this.userStorage,this.storageKey+"-user");h?.user?r.user=h.user:r.user=Va()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=Jm(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:u,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(r){try{return r?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:pr}):await this._useSession(async s=>{var a,u,c;const{data:h,error:m}=s;if(m)throw m;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ut}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:pr})})}catch(s){if(G(s))return jm(s)&&(await this._removeSession(),await Fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async a=>{const{data:u,error:c}=a;if(c)throw c;if(!u.session)throw new ut;const h=u.session;let m=null,g=null;this.flowType==="pkce"&&r.email!=null&&([m,g]=await un(this.storage,this.storageKey));const{data:y,error:x}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:g}),jwt:h.access_token,xform:pr});if(x)throw x;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(a){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),G(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new ut;const s=Date.now()/1e3;let a=s,u=!0,c=null;const{payload:h}=Wa(r.access_token);if(h.exp&&(a=h.exp,u=a<=s),u){const{data:m,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:g}=await this._getUser(r.access_token);if(g)throw g;c={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(G(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var a;if(!r){const{data:h,error:m}=s;if(m)throw m;r=(a=h.session)!==null&&a!==void 0?a:void 0}if(!r?.refresh_token)throw new ut;const{data:u,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(G(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(r,s){try{if(!qe())throw new Oi("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Oi(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new jd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Oi("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new jd("No code detected.");const{data:R,error:A}=await this._exchangeCodeForSession(r.code);if(A)throw A;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:u,access_token:c,refresh_token:h,expires_in:m,expires_at:g,token_type:y}=r;if(!c||!m||!h||!y)throw new Oi("No session defined in URL");const x=Math.round(Date.now()/1e3),b=parseInt(m);let S=x+b;g&&(S=parseInt(g));const k=S-x;k*1e3<=pn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${b}s`);const O=S-b;x-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,S,x):x-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,S,x);const{data:N,error:P}=await this._getUser(c);if(P)throw P;const U={provider_token:a,provider_refresh_token:u,access_token:c,expires_in:b,expires_at:S,refresh_token:h,token_type:y,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:r.type},error:null})}catch(a){if(G(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Or(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({error:c});const h=(a=u.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:m}=await this.admin.signOut(h,r);if(m&&!(Em(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return r!=="others"&&(await this._removeSession(),await Fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const s=Lm(),a={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async s=>{var a,u;try{const{data:{session:c},error:h}=s;if(h)throw h;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(r))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,s={}){let a=null,u=null;this.flowType==="pkce"&&([a,u]=await un(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:u,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),G(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:a,error:u}=await this._useSession(async c=>{var h,m,g,y,x;const{data:b,error:S}=c;if(S)throw S;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",k,{headers:this.headers,jwt:(x=(y=b.session)===null||y===void 0?void 0:y.access_token)!==null&&x!==void 0?x:void 0})});if(u)throw u;return qe()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:r.provider,url:a?.url},error:null})}catch(a){if(G(a))return this._returnResult({data:{provider:r.provider,url:null},error:a});throw a}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var a;try{const{error:u,data:{session:c}}=s;if(u)throw u;const{options:h,provider:m,token:g,access_token:y,nonce:x}=r,b=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:m,id_token:g,access_token:y,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Tt}),{data:S,error:k}=b;return k?this._returnResult({data:{user:null,session:null},error:k}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new ln}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:k}))}catch(u){if(await Fe(this.storage,`${this.storageKey}-code-verifier`),G(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var a,u;const{data:c,error:h}=s;if(h)throw h;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(u=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0})})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await zm(async u=>(u>0&&await Dm(200*Math.pow(2,u-1)),this._debug(s,"refreshing attempt",u),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Tt})),(u,c)=>{const h=200*Math.pow(2,u);return c&&qa(c)&&Date.now()+h-a<pn})}catch(a){if(this._debug(s,"error",a),G(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",a),qe()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const u=await Or(this.storage,this.storageKey);if(u&&this.userStorage){let h=await Or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:u.user},await mn(this.userStorage,this.storageKey+"-user",h)),u.user=(r=h?.user)!==null&&r!==void 0?r:Va()}else if(u&&!u.user&&!u.user){const h=await Or(this.storage,this.storageKey+"-user");h&&h?.user?(u.user=h.user,await Fe(this.storage,this.storageKey+"-user"),await mn(this.storage,this.storageKey,u)):u.user=Va()}if(this._debug(a,"session from storage",u),!this._isValidSession(u)){this._debug(a,"session is not valid"),u!==null&&await this._removeSession();return}const c=((s=u.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Fa;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${Fa}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:h}=await this._callRefreshToken(u.refresh_token);h&&(console.error(h),qa(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(u.access_token);!m&&h?.user?(u.user=h.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(a,"error",u),console.error(u);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var s,a;if(!r)throw new ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Ui;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new ut;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(u,"error",c),G(c)){const h={data:null,error:c};return qa(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(r,s,a=!0){const u=`#_notifyAllSubscribers(${r})`;this._debug(u,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,s)}catch(g){c.push(g)}});if(await Promise.all(h),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await Fe(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},r),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await mn(this.userStorage,this.storageKey+"-user",{user:s.user});const u=Object.assign({},s);delete u.user;const c=Rd(u);await mn(this.storage,this.storageKey,c)}else{const u=Rd(s);await mn(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Fe(this.storage,this.storageKey),await Fe(this.storage,this.storageKey+"-code-verifier"),await Fe(this.storage,this.storageKey+"-user"),this.userStorage&&await Fe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&qe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),pn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((a.expires_at*1e3-r)/pn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${pn}ms, refresh threshold is ${el} ticks`),u<=el&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Zd)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,a){const u=[`provider=${encodeURIComponent(s)}`];if(a?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&u.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,h]=await un(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});u.push(m.toString())}if(a?.queryParams){const c=new URLSearchParams(a.queryParams);u.push(c.toString())}return a?.skipBrowserRedirect&&u.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${u.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;return c?this._returnResult({data:null,error:c}):await Y(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(r){try{return await this._useSession(async s=>{var a,u;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:g,error:y}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(a=c?.session)===null||a===void 0?void 0:a.access_token});return y?this._returnResult({data:null,error:y}):(r.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?mg(r.webauthn.credential_response):gg(r.webauthn.credential_response)})}:{code:r.code}),{data:m,error:g}=await Y(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var a;const{data:u,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=await Y(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:fg(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:pg(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(r){const{data:s,error:a}=await this._challenge({factorId:r.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=s?.factors)!==null&&r!==void 0?r:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var r,s;const{data:{session:a},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Wa(a.access_token);let h=null;c.aal&&(h=c.aal);let m=h;((s=(r=a.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const y=c.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async s=>{const{data:{session:a},error:u}=s;return u?this._returnResult({data:null,error:u}):a?await Y(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new ut})})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(r,s){try{return await this._useSession(async a=>{const{data:{session:u},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new ut});const h=await Y(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&qe()&&!s?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(a){if(G(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(r,s){try{return await this._useSession(async a=>{const{data:{session:u},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!u)return this._returnResult({data:null,error:new ut});const h=await Y(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&qe()&&!s?.skipBrowserRedirect&&window.location.assign(h.data.redirect_url),h})}catch(a){if(G(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?await Y(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new ut})})}catch(r){if(G(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async s=>{const{data:{session:a},error:u}=s;return u?this._returnResult({data:null,error:u}):a?(await Y(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ut})})}catch(s){if(G(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,s={keys:[]}){let a=s.keys.find(m=>m.kid===r);if(a)return a;const u=Date.now();if(a=this.jwks.keys.find(m=>m.kid===r),a&&this.jwks_cached_at+Sm>u)return a;const{data:c,error:h}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,a=c.keys.find(m=>m.kid===r),!a)?null:a}async getClaims(r,s={}){try{let a=r;if(!a){const{data:k,error:O}=await this.getSession();if(O||!k.session)return this._returnResult({data:null,error:O});a=k.session.access_token}const{header:u,payload:c,signature:h,raw:{header:m,payload:g}}=Wa(a);s?.allowExpired||Hm(c.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:k}=await this.getUser(a);if(k)throw k;return{data:{claims:c,header:u,signature:h},error:null}}const x=Km(u.alg),b=await crypto.subtle.importKey("jwk",y,x,!0,["verify"]);if(!await crypto.subtle.verify(x,b,h,Am(`${m}.${g}`)))throw new nl("Invalid JWT signature");return{data:{claims:c,header:u,signature:h},error:null}}catch(a){if(G(a))return this._returnResult({data:null,error:a});throw a}}}hs.nextInstanceID={};const Eg=hs,jg="2.90.1";let is="";typeof Deno<"u"?is="deno":typeof document<"u"?is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?is="react-native":is="node";const Tg={"X-Client-Info":`supabase-js-${is}/${jg}`},Cg={headers:Tg},Ng={schema:"public"},Og={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rg={};function fs(i){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fs(i)}function Pg(i,r){if(fs(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var a=s.call(i,r);if(fs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(i)}function Ag(i){var r=Pg(i,"string");return fs(r)=="symbol"?r:r+""}function Ig(i,r,s){return(r=Ag(r))in i?Object.defineProperty(i,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[r]=s,i}function Dd(i,r){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);r&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),s.push.apply(s,a)}return s}function je(i){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Dd(Object(s),!0).forEach(function(a){Ig(i,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Dd(Object(s)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(s,a))})}return i}const Lg=i=>i?(...r)=>i(...r):(...r)=>fetch(...r),$g=()=>Headers,Ug=(i,r,s)=>{const a=Lg(s),u=$g();return async(c,h)=>{var m;const g=(m=await r())!==null&&m!==void 0?m:i;let y=new u(h?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),a(c,je(je({},h),{},{headers:y}))}};function Dg(i){return i.endsWith("/")?i:i+"/"}function zg(i,r){var s,a;const{db:u,auth:c,realtime:h,global:m}=i,{db:g,auth:y,realtime:x,global:b}=r,S={db:je(je({},g),u),auth:je(je({},y),c),realtime:je(je({},x),h),storage:{},global:je(je(je({},b),m),{},{headers:je(je({},(s=b?.headers)!==null&&s!==void 0?s:{}),(a=m?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return i.accessToken?S.accessToken=i.accessToken:delete S.accessToken,S}function Mg(i){const r=i?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Dg(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Bg=class extends Eg{constructor(i){super(i)}},Fg=class{constructor(i,r,s){var a,u;this.supabaseUrl=i,this.supabaseKey=r;const c=Mg(i);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,m={db:Ng,realtime:Rg,auth:je(je({},Og),{},{storageKey:h}),global:Cg},g=zg(s??{},m);if(this.storageKey=(a=g.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=g.auth)!==null&&y!==void 0?y:{},this.headers,g.global.fetch)}this.fetch=Ug(r,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new xp(new URL("rest/v1",c).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new vm(this.storageUrl.href,this.headers,this.fetch,s?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new gp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,r,s)}channel(i,r={config:{}}){return this.realtime.channel(i,r)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,r,s;if(i.accessToken)return await i.accessToken();const{data:a}=await i.auth.getSession();return(r=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:u,storageKey:c,flowType:h,lock:m,debug:g,throwOnError:y},x,b){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Bg({url:this.authUrl.href,headers:je(je({},S),x),storageKey:c,autoRefreshToken:i,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:u,flowType:h,lock:m,debug:g,throwOnError:y,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Dp(this.realtimeUrl.href,je(je({},i),{},{params:je(je({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,r)=>{this._handleTokenChanged(i,"CLIENT",r?.access_token)})}_handleTokenChanged(i,r,s){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const qg=(i,r,s)=>new Fg(i,r,s);function Wg(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const r=i.version;if(r==null)return!1;const s=r.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Wg()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vg="https://byzldrgbydgdzsmipyen.supabase.co",Hg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ5emxkcmdieWRnZHpzbWlweWVuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc2MDYxMTgsImV4cCI6MjA4MzE4MjExOH0.Ny2Q52xnyPoLzlBlr8Gf1SKlQBDyKCjMghGiTiynawA",ct=qg(Vg,Hg),rh=te.createContext(void 0);function Kg({children:i}){const[r,s]=te.useState(null),[a,u]=te.useState(null),[c,h]=te.useState(!0);te.useEffect(()=>{ct.auth.getSession().then(({data:{session:S}})=>{s(S?.user??null),S?.user?m(S.user.id):h(!1)});const{data:{subscription:b}}=ct.auth.onAuthStateChange((S,k)=>{s(k?.user??null),k?.user?m(k.user.id):(u(null),h(!1))});return()=>b.unsubscribe()},[]);const m=async b=>{try{const{data:S,error:k}=await ct.from("profiles").select("*").eq("id",b).maybeSingle();if(k)throw k;u(S)}catch(S){console.error("Error loading profile:",S)}finally{h(!1)}},g=async(b,S,k,O)=>{const{data:N,error:P}=await ct.auth.signUp({email:b,password:S});if(P)throw P;if(N.user){const{error:U}=await ct.from("profiles").insert({id:N.user.id,email:b,full_name:k,college_name:O});if(U)throw U}},y=async(b,S)=>{const{error:k}=await ct.auth.signInWithPassword({email:b,password:S});if(k)throw k},x=async()=>{const{error:b}=await ct.auth.signOut();if(b)throw b};return f.jsx(rh.Provider,{value:{user:r,profile:a,loading:c,signUp:g,signIn:y,signOut:x},children:i})}function Di(){const i=te.useContext(rh);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}var Gg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Jg=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ze=(i,r)=>{const s=te.forwardRef(({color:a="currentColor",size:u=24,strokeWidth:c=2,absoluteStrokeWidth:h,className:m="",children:g,...y},x)=>te.createElement("svg",{ref:x,...Gg,width:u,height:u,stroke:a,strokeWidth:h?Number(c)*24/Number(u):c,className:["lucide",`lucide-${Jg(i)}`,m].join(" "),...y},[...r.map(([b,S])=>te.createElement(b,S)),...Array.isArray(g)?g:[g]]));return s.displayName=`${i}`,s};const dl=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Qg=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Yg=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const nh=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Xg=ze("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const Ii=ze("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const Zg=ze("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);const ey=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const vn=ze("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const ty=ze("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const sh=ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const ih=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const sl=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const ry=ze("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const ny=ze("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const hl=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const oh=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const ms=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function sy({currentView:i,onViewChange:r,onAuthClick:s,onCreateClick:a}){const{user:u,profile:c,signOut:h}=Di();return f.jsx("header",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-40",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center space-x-8",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-cyan-500 rounded-xl flex items-center justify-center",children:f.jsx(ny,{className:"text-white",size:24})}),f.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"CampusHub"})]}),f.jsxs("nav",{className:"hidden md:flex space-x-1",children:[f.jsx("button",{onClick:()=>r("marketplace"),className:`px-4 py-2 rounded-lg font-medium transition-all ${i==="marketplace"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:"Marketplace"}),f.jsxs("button",{onClick:()=>r("pg"),className:`px-4 py-2 rounded-lg font-medium transition-all ${i==="pg"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:[f.jsx(Ii,{size:18,className:"inline mr-2"}),"Find PG"]})]})]}),f.jsx("div",{className:"flex items-center space-x-3",children:u?f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:a,className:"hidden sm:flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-cyan-700 transition-all transform hover:scale-105",children:[f.jsx(ih,{size:18}),f.jsx("span",{children:"Post"})]}),f.jsxs("div",{className:"flex items-center space-x-3 border-l border-gray-200 pl-3",children:[f.jsxs("div",{className:"hidden sm:block text-right",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900",children:c?.full_name}),f.jsx("p",{className:"text-xs text-gray-500",children:c?.college_name})]}),f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center",children:f.jsx(hl,{className:"text-white",size:20})}),f.jsx("button",{onClick:h,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-all",title:"Sign out",children:f.jsx(ey,{size:18})})]})]}):f.jsx("button",{onClick:s,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-lg font-medium hover:from-blue-700 hover:to-cyan-700 transition-all transform hover:scale-105",children:"Sign In"})})]}),f.jsxs("nav",{className:"md:hidden flex space-x-1 pb-2",children:[f.jsx("button",{onClick:()=>r("marketplace"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${i==="marketplace"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:"Marketplace"}),f.jsxs("button",{onClick:()=>r("pg"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-all ${i==="pg"?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:[f.jsx(Ii,{size:18,className:"inline mr-2"}),"Find PG"]})]})]})})}function iy({listing:i,onClick:r}){const s=i.images?.[0]||"https://images.pexels.com/photos/4050315/pexels-photo-4050315.jpeg?auto=compress&cs=tinysrgb&w=400",a=oy(new Date(i.created_at));return f.jsxs("div",{onClick:r,className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 cursor-pointer overflow-hidden border border-gray-100 group",children:[f.jsxs("div",{className:"relative h-48 overflow-hidden bg-gray-100",children:[f.jsx("img",{src:s,alt:i.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),f.jsx("div",{className:"absolute top-3 right-3",children:f.jsx("span",{className:"px-3 py-1 bg-white/95 backdrop-blur-sm text-xs font-semibold text-gray-900 rounded-full shadow-sm",children:i.categories?.name||"Other"})}),i.status!=="available"&&f.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:f.jsx("span",{className:"px-4 py-2 bg-white rounded-lg font-bold text-gray-900 uppercase text-sm",children:i.status})})]}),f.jsxs("div",{className:"p-4",children:[f.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1 line-clamp-1 group-hover:text-blue-600 transition-colors",children:i.title}),f.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:i.description}),f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",i.price.toLocaleString()]}),f.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full capitalize",children:i.condition.replace("_"," ")})]}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 border-t border-gray-100 pt-3",children:[f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(hl,{size:14}),f.jsx("span",{className:"line-clamp-1",children:i.profiles?.full_name||"Anonymous"})]}),f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(Yg,{size:14}),f.jsx("span",{children:a})]})]}),i.location&&f.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500 mt-2",children:[f.jsx(vn,{size:14}),f.jsx("span",{className:"line-clamp-1",children:i.location})]})]})]})}function oy(i){const r=Math.floor((new Date().getTime()-i.getTime())/1e3),s={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[a,u]of Object.entries(s)){const c=Math.floor(r/u);if(c>=1)return`${c} ${a}${c>1?"s":""} ago`}return"Just now"}function ay({listing:i,onClose:r}){const s=i.images?.[0]||"https://images.pexels.com/photos/4050315/pexels-photo-4050315.jpeg?auto=compress&cs=tinysrgb&w=800";return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl my-8 relative",children:[f.jsx("button",{onClick:r,className:"absolute top-4 right-4 z-10 p-2 bg-white/90 backdrop-blur-sm rounded-full text-gray-600 hover:text-gray-900 transition-all shadow-lg",children:f.jsx(ms,{size:24})}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[f.jsxs("div",{className:"relative h-64 md:h-auto",children:[f.jsx("img",{src:s,alt:i.title,className:"w-full h-full object-cover rounded-t-2xl md:rounded-l-2xl md:rounded-tr-none"}),f.jsx("div",{className:"absolute top-4 left-4",children:f.jsx("span",{className:"px-4 py-2 bg-white/95 backdrop-blur-sm text-sm font-semibold text-gray-900 rounded-full shadow-lg",children:i.categories?.name||"Other"})})]}),f.jsxs("div",{className:"p-8",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:i.title}),f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsxs("span",{className:"text-3xl font-bold text-blue-600",children:["",i.price.toLocaleString()]}),f.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 text-sm font-medium rounded-full capitalize",children:i.condition.replace("_"," ")})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2 uppercase tracking-wide",children:"Description"}),f.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.description})]}),i.location&&f.jsxs("div",{className:"mb-6 flex items-start space-x-3",children:[f.jsx(vn,{className:"text-gray-400 mt-1 flex-shrink-0",size:20}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Location"}),f.jsx("p",{className:"text-gray-700",children:i.location})]})]}),f.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4 uppercase tracking-wide",children:"Seller Information"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center flex-shrink-0",children:f.jsx(hl,{className:"text-white",size:20})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-gray-900",children:i.profiles?.full_name||"Anonymous"}),f.jsx("p",{className:"text-sm text-gray-600",children:i.profiles?.college_name||"College Student"})]})]}),i.profiles?.phone&&f.jsxs("div",{className:"flex items-center space-x-2 text-gray-700 bg-gray-50 p-3 rounded-lg",children:[f.jsx(sh,{size:18,className:"text-gray-400"}),f.jsx("span",{children:i.profiles.phone})]}),f.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 text-sm",children:[f.jsx(dl,{size:16,className:"text-gray-400"}),f.jsxs("span",{children:["Listed ",new Date(i.created_at).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})]})]})]})]}),f.jsx("div",{className:"mt-6",children:f.jsx("a",{href:`tel:${i.profiles?.phone||""}`,className:"block w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white text-center py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-cyan-700 transition-all transform hover:scale-[1.02]",children:"Contact Seller"})})]})]})]})})}function ly(){const[i,r]=te.useState([]),[s,a]=te.useState([]),[u,c]=te.useState(!0),[h,m]=te.useState(""),[g,y]=te.useState("all"),[x,b]=te.useState(null),[S,k]=te.useState("grid");te.useEffect(()=>{O(),N()},[]);const O=async()=>{const{data:U}=await ct.from("categories").select("*").order("name");U&&a(U)},N=async()=>{c(!0);const{data:U}=await ct.from("marketplace_listings").select(`
        *,
        profiles (full_name, college_name),
        categories (name)
      `).order("created_at",{ascending:!1});U&&r(U),c(!1)},P=i.filter(U=>{const R=U.title.toLowerCase().includes(h.toLowerCase())||U.description.toLowerCase().includes(h.toLowerCase()),A=g==="all"||U.category_id===g;return R&&A});return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Marketplace"}),f.jsx("p",{className:"text-gray-600",children:"Buy and sell items with your fellow students"})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[f.jsxs("div",{className:"flex-1 relative",children:[f.jsx(sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),f.jsx("input",{type:"text",placeholder:"Search for items...",value:h,onChange:U=>m(U.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("select",{value:g,onChange:U=>y(U.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white",children:[f.jsx("option",{value:"all",children:"All Categories"}),s.map(U=>f.jsx("option",{value:U.id,children:U.name},U.id))]}),f.jsxs("div",{className:"hidden sm:flex border border-gray-300 rounded-lg overflow-hidden",children:[f.jsx("button",{onClick:()=>k("grid"),className:`px-3 py-3 ${S==="grid"?"bg-blue-50 text-blue-600":"bg-white text-gray-600"} transition-colors`,children:f.jsx(Xg,{size:20})}),f.jsx("button",{onClick:()=>k("list"),className:`px-3 py-3 ${S==="list"?"bg-blue-50 text-blue-600":"bg-white text-gray-600"} transition-colors`,children:f.jsx(Zg,{size:20})})]})]})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-4 text-sm text-gray-600",children:[f.jsx(nh,{size:16}),f.jsxs("span",{children:[P.length," items found"]})]})]}),u?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((U,R)=>f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-pulse",children:[f.jsx("div",{className:"h-48 bg-gray-200"}),f.jsxs("div",{className:"p-4 space-y-3",children:[f.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),f.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),f.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},R))}):P.length===0?f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(sl,{className:"text-gray-400",size:32})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No items found"}),f.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filters"})]}):f.jsx("div",{className:`grid gap-6 ${S==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:P.map(U=>f.jsx(iy,{listing:U,onClick:()=>b(U)},U.id))})]}),x&&f.jsx(ay,{listing:x,onClose:()=>b(null)})]})}function uy({pg:i,onClick:r}){const s=i.images?.[0]||"https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg?auto=compress&cs=tinysrgb&w=400";return f.jsxs("div",{onClick:r,className:"bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 cursor-pointer overflow-hidden border border-gray-100 group",children:[f.jsxs("div",{className:"relative h-48 overflow-hidden bg-gray-100",children:[f.jsx("img",{src:s,alt:i.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),f.jsx("div",{className:"absolute top-3 right-3",children:f.jsx("span",{className:"px-3 py-1 bg-white/95 backdrop-blur-sm text-xs font-semibold text-gray-900 rounded-full shadow-sm capitalize",children:i.room_type})}),i.status!=="available"&&f.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:f.jsx("span",{className:"px-4 py-2 bg-white rounded-lg font-bold text-gray-900 uppercase text-sm",children:"Occupied"})})]}),f.jsxs("div",{className:"p-4",children:[f.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-2 line-clamp-1 group-hover:text-blue-600 transition-colors",children:i.title}),f.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 mb-3",children:[f.jsx(vn,{size:16,className:"flex-shrink-0"}),f.jsx("span",{className:"line-clamp-1",children:i.address})]}),f.jsxs("div",{className:"flex items-center justify-between mb-3 pb-3 border-b border-gray-100",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",i.rent_per_month.toLocaleString()]}),f.jsx("div",{className:"text-xs text-gray-500",children:"per month"})]}),f.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[f.jsx(Ii,{size:16}),f.jsx("span",{className:"text-sm capitalize",children:i.room_type})]})]}),i.amenities&&i.amenities.length>0&&f.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[i.amenities.slice(0,3).map((a,u)=>f.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:a},u)),i.amenities.length>3&&f.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:["+",i.amenities.length-3," more"]})]}),f.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-3 border-t border-gray-100",children:[f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(oh,{size:14}),f.jsx("span",{className:"capitalize",children:i.gender_preference||"Any"})]}),i.available_from&&f.jsxs("div",{className:"flex items-center space-x-1",children:[f.jsx(dl,{size:14}),f.jsxs("span",{children:["From ",new Date(i.available_from).toLocaleDateString("en-IN",{month:"short",day:"numeric"})]})]})]})]})]})}function cy({pg:i,onClose:r}){const s=i.images?.[0]||"https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg?auto=compress&cs=tinysrgb&w=800";return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl my-8 relative",children:[f.jsx("button",{onClick:r,className:"absolute top-4 right-4 z-10 p-2 bg-white/90 backdrop-blur-sm rounded-full text-gray-600 hover:text-gray-900 transition-all shadow-lg",children:f.jsx(ms,{size:24})}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[f.jsxs("div",{className:"relative h-64 md:h-auto",children:[f.jsx("img",{src:s,alt:i.title,className:"w-full h-full object-cover rounded-t-2xl md:rounded-l-2xl md:rounded-tr-none"}),f.jsx("div",{className:"absolute top-4 left-4",children:f.jsxs("span",{className:"px-4 py-2 bg-white/95 backdrop-blur-sm text-sm font-semibold text-gray-900 rounded-full shadow-lg capitalize",children:[i.room_type," Room"]})})]}),f.jsxs("div",{className:"p-8 overflow-y-auto max-h-[600px]",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:i.title}),f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsxs("span",{className:"text-3xl font-bold text-blue-600",children:["",i.rent_per_month.toLocaleString()]}),f.jsx("span",{className:"text-gray-600",children:"/month"})]})]}),f.jsxs("div",{className:"mb-6 space-y-3",children:[f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(vn,{className:"text-gray-400 mt-1 flex-shrink-0",size:20}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Address"}),f.jsx("p",{className:"text-gray-700",children:i.address})]})]}),f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(Ii,{className:"text-gray-400 mt-1 flex-shrink-0",size:20}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Room Type"}),f.jsx("p",{className:"text-gray-700 capitalize",children:i.room_type})]})]}),f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(oh,{className:"text-gray-400 mt-1 flex-shrink-0",size:20}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Gender Preference"}),f.jsx("p",{className:"text-gray-700 capitalize",children:i.gender_preference||"Any"})]})]}),i.available_from&&f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx(dl,{className:"text-gray-400 mt-1 flex-shrink-0",size:20}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Available From"}),f.jsx("p",{className:"text-gray-700",children:new Date(i.available_from).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3 uppercase tracking-wide",children:"Description"}),f.jsx("p",{className:"text-gray-700 leading-relaxed",children:i.description})]}),i.amenities&&i.amenities.length>0&&f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3 uppercase tracking-wide",children:"Amenities"}),f.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.amenities.map((a,u)=>f.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[f.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:f.jsx(Qg,{size:12,className:"text-blue-600"})}),f.jsx("span",{className:"text-sm",children:a})]},u))})]}),f.jsxs("div",{className:"border-t border-gray-200 pt-6 mb-6",children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3 uppercase tracking-wide",children:"Contact Information"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[f.jsx(sh,{size:18,className:"text-gray-400"}),f.jsx("span",{className:"font-medium",children:i.contact_phone})]}),i.profiles&&f.jsxs("div",{className:"text-sm text-gray-600",children:[f.jsxs("p",{children:["Posted by ",i.profiles.full_name]}),f.jsx("p",{children:i.profiles.college_name})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("a",{href:`tel:${i.contact_phone}`,className:"block w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white text-center py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-cyan-700 transition-all transform hover:scale-[1.02]",children:"Call Now"}),f.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${i.latitude},${i.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-white border-2 border-blue-600 text-blue-600 text-center py-3 rounded-lg font-semibold hover:bg-blue-50 transition-all",children:"View on Map"})]})]})]})]})})}function dy(){const[i,r]=te.useState([]),[s,a]=te.useState(!0),[u,c]=te.useState(""),[h,m]=te.useState(null),[g,y]=te.useState("grid"),[x,b]=te.useState({roomType:"all",genderPreference:"all",maxRent:""});te.useEffect(()=>{S()},[]);const S=async()=>{a(!0);const{data:N}=await ct.from("pg_accommodations").select(`
        *,
        profiles (full_name, college_name)
      `).order("created_at",{ascending:!1});N&&r(N),a(!1)},k=i.filter(N=>{const P=N.title.toLowerCase().includes(u.toLowerCase())||N.address.toLowerCase().includes(u.toLowerCase())||N.description.toLowerCase().includes(u.toLowerCase()),U=x.roomType==="all"||N.room_type===x.roomType,R=x.genderPreference==="all"||N.gender_preference===x.genderPreference||N.gender_preference==="any",A=!x.maxRent||N.rent_per_month<=parseFloat(x.maxRent);return P&&U&&R&&A}),O=()=>{if(k.length>0){const N=k[0];window.open(`https://www.google.com/maps/search/PG+accommodation/@${N.latitude},${N.longitude},14z`,"_blank")}};return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Find PG Accommodation"}),f.jsx("p",{className:"text-gray-600",children:"Discover comfortable and affordable stays near your college"})]}),f.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-6",children:f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[f.jsxs("div",{className:"flex-1 relative",children:[f.jsx(sl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),f.jsx("input",{type:"text",placeholder:"Search by location, area, or PG name...",value:u,onChange:N=>c(N.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),f.jsx("div",{className:"flex gap-2",children:f.jsxs("button",{onClick:O,className:"px-4 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-all flex items-center gap-2",children:[f.jsx(vn,{size:18}),f.jsx("span",{className:"hidden sm:inline",children:"View on Maps"})]})})]}),f.jsxs("div",{className:"flex flex-wrap gap-3",children:[f.jsxs("select",{value:x.roomType,onChange:N=>b({...x,roomType:N.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white text-sm",children:[f.jsx("option",{value:"all",children:"All Room Types"}),f.jsx("option",{value:"single",children:"Single"}),f.jsx("option",{value:"double",children:"Double"}),f.jsx("option",{value:"triple",children:"Triple"}),f.jsx("option",{value:"shared",children:"Shared"})]}),f.jsxs("select",{value:x.genderPreference,onChange:N=>b({...x,genderPreference:N.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all bg-white text-sm",children:[f.jsx("option",{value:"all",children:"Any Gender"}),f.jsx("option",{value:"male",children:"Male"}),f.jsx("option",{value:"female",children:"Female"})]}),f.jsx("input",{type:"number",placeholder:"Max rent",value:x.maxRent,onChange:N=>b({...x,maxRent:N.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all w-32 text-sm"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[f.jsx(nh,{size:16}),f.jsxs("span",{children:[k.length," accommodations found"]})]})]})}),s?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((N,P)=>f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-pulse",children:[f.jsx("div",{className:"h-48 bg-gray-200"}),f.jsxs("div",{className:"p-4 space-y-3",children:[f.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),f.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),f.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},P))}):k.length===0?f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:f.jsx(vn,{className:"text-gray-400",size:32})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No PG accommodations found"}),f.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filters"})]}):f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(N=>f.jsx(uy,{pg:N,onClick:()=>m(N)},N.id))})]}),h&&f.jsx(cy,{pg:h,onClose:()=>m(null)})]})}function hy({isOpen:i,onClose:r}){const[s,a]=te.useState(!0),[u,c]=te.useState(""),[h,m]=te.useState(""),[g,y]=te.useState(""),[x,b]=te.useState(""),[S,k]=te.useState(!1),[O,N]=te.useState(""),{signIn:P,signUp:U}=Di();if(!i)return null;const R=async A=>{A.preventDefault(),N(""),k(!0);try{s?await P(u,h):await U(u,h,g,x),r()}catch(K){N(K instanceof Error?K.message:"An error occurred")}finally{k(!1)}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative",children:[f.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:f.jsx(ms,{size:24})}),f.jsxs("div",{className:"p-8",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:s?"Welcome back":"Join us"}),f.jsx("p",{className:"text-gray-600 mb-8",children:s?"Sign in to your account":"Create your account"}),O&&f.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:O}),f.jsxs("form",{onSubmit:R,className:"space-y-4",children:[!s&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),f.jsx("input",{type:"text",value:g,onChange:A=>y(A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"College Name"}),f.jsx("input",{type:"text",value:x,onChange:A=>b(A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),f.jsx("input",{type:"email",value:u,onChange:A=>c(A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),f.jsx("input",{type:"password",value:h,onChange:A=>m(A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,minLength:6})]}),f.jsx("button",{type:"submit",disabled:S,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-blue-800 transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:S?"Please wait...":s?"Sign In":"Sign Up"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("button",{onClick:()=>{a(!s),N("")},className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:s?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})}function fy({isOpen:i,onClose:r,type:s,onSuccess:a}){const{user:u}=Di(),[c,h]=te.useState([]),[m,g]=te.useState(!1),[y,x]=te.useState(""),[b,S]=te.useState({title:"",description:"",price:"",category_id:"",condition:"good",location:""}),[k,O]=te.useState({title:"",description:"",address:"",latitude:"",longitude:"",rent_per_month:"",room_type:"single",contact_phone:"",gender_preference:"any",available_from:"",amenities:""});te.useEffect(()=>{s==="marketplace"&&N()},[s]);const N=async()=>{const{data:R}=await ct.from("categories").select("*").order("name");R&&h(R)};if(!i)return null;const P=async R=>{if(R.preventDefault(),!!u){x(""),g(!0);try{const{error:A}=await ct.from("marketplace_listings").insert({user_id:u.id,title:b.title,description:b.description,price:parseFloat(b.price),category_id:b.category_id,condition:b.condition,location:b.location||null});if(A)throw A;a(),r()}catch(A){x(A instanceof Error?A.message:"An error occurred")}finally{g(!1)}}},U=async R=>{if(R.preventDefault(),!!u){x(""),g(!0);try{const A=k.amenities.split(",").map(le=>le.trim()).filter(le=>le.length>0),{error:K}=await ct.from("pg_accommodations").insert({user_id:u.id,title:k.title,description:k.description,address:k.address,latitude:parseFloat(k.latitude),longitude:parseFloat(k.longitude),rent_per_month:parseFloat(k.rent_per_month),room_type:k.room_type,contact_phone:k.contact_phone,gender_preference:k.gender_preference,available_from:k.available_from||null,amenities:A});if(K)throw K;a(),r()}catch(A){x(A instanceof Error?A.message:"An error occurred")}finally{g(!1)}}};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4 overflow-y-auto",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl my-8 relative",children:[f.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors z-10",children:f.jsx(ms,{size:24})}),f.jsxs("div",{className:"p-8",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:s==="marketplace"?"List an Item":"Post PG Accommodation"}),f.jsx("p",{className:"text-gray-600 mb-6",children:s==="marketplace"?"Fill in the details to list your item for sale":"Provide details about the PG accommodation"}),y&&f.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:y}),s==="marketplace"?f.jsxs("form",{onSubmit:P,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),f.jsx("input",{type:"text",value:b.title,onChange:R=>S({...b,title:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,placeholder:"e.g., iPhone 12 Pro Max"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),f.jsxs("select",{value:b.category_id,onChange:R=>S({...b,category_id:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,children:[f.jsx("option",{value:"",children:"Select category"}),c.map(R=>f.jsx("option",{value:R.id,children:R.name},R.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condition"}),f.jsxs("select",{value:b.condition,onChange:R=>S({...b,condition:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,children:[f.jsx("option",{value:"new",children:"New"}),f.jsx("option",{value:"like_new",children:"Like New"}),f.jsx("option",{value:"good",children:"Good"}),f.jsx("option",{value:"fair",children:"Fair"}),f.jsx("option",{value:"poor",children:"Poor"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price ()"}),f.jsx("input",{type:"number",value:b.price,onChange:R=>S({...b,price:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,min:"0",placeholder:"5000"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location (optional)"}),f.jsx("input",{type:"text",value:b.location,onChange:R=>S({...b,location:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"e.g., Main Campus"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),f.jsx("textarea",{value:b.description,onChange:R=>S({...b,description:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",required:!0,rows:4,placeholder:"Describe your item in detail..."})]}),f.jsx("button",{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-cyan-700 transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Posting...":"Post Listing"})]}):f.jsxs("form",{onSubmit:U,className:"space-y-4 max-h-[500px] overflow-y-auto pr-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PG Name/Title"}),f.jsx("input",{type:"text",value:k.title,onChange:R=>O({...k,title:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,placeholder:"e.g., Comfortable PG Near College"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Address"}),f.jsx("input",{type:"text",value:k.address,onChange:R=>O({...k,address:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,placeholder:"Complete address with area and landmarks"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Latitude"}),f.jsx("input",{type:"number",step:"any",value:k.latitude,onChange:R=>O({...k,latitude:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,placeholder:"28.7041"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Longitude"}),f.jsx("input",{type:"number",step:"any",value:k.longitude,onChange:R=>O({...k,longitude:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,placeholder:"77.1025"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monthly Rent ()"}),f.jsx("input",{type:"number",value:k.rent_per_month,onChange:R=>O({...k,rent_per_month:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,min:"0",placeholder:"8000"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Type"}),f.jsxs("select",{value:k.room_type,onChange:R=>O({...k,room_type:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,children:[f.jsx("option",{value:"single",children:"Single"}),f.jsx("option",{value:"double",children:"Double"}),f.jsx("option",{value:"triple",children:"Triple"}),f.jsx("option",{value:"shared",children:"Shared"})]})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone"}),f.jsx("input",{type:"tel",value:k.contact_phone,onChange:R=>O({...k,contact_phone:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",required:!0,placeholder:"9876543210"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender Preference"}),f.jsxs("select",{value:k.gender_preference,onChange:R=>O({...k,gender_preference:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[f.jsx("option",{value:"any",children:"Any"}),f.jsx("option",{value:"male",children:"Male"}),f.jsx("option",{value:"female",children:"Female"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available From (optional)"}),f.jsx("input",{type:"date",value:k.available_from,onChange:R=>O({...k,available_from:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities (comma-separated)"}),f.jsx("input",{type:"text",value:k.amenities,onChange:R=>O({...k,amenities:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"WiFi, AC, Laundry, Parking"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),f.jsx("textarea",{value:k.description,onChange:R=>O({...k,description:R.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",required:!0,rows:4,placeholder:"Describe the accommodation, nearby facilities, rules, etc."})]}),f.jsx("button",{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-cyan-700 transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Posting...":"Post PG Listing"})]})]})]})})}function py({webhookUrl:i}){const[r,s]=te.useState(!1),[a,u]=te.useState([{id:"1",type:"bot",content:"Hi there! I'm CampusHub Assistant. How can I help you today? I can help with marketplace questions, PG finding, or general campus info!",timestamp:new Date}]),[c,h]=te.useState(""),[m,g]=te.useState(!1),y=te.useRef(null),x=()=>{y.current?.scrollIntoView({behavior:"smooth"})};te.useEffect(()=>{x()},[a]);const b=async S=>{if(S.preventDefault(),!c.trim()||m)return;const k={id:Date.now().toString(),type:"user",content:c,timestamp:new Date};u(O=>[...O,k]),h(""),g(!0);try{const O=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:c,userId:"guest",timestamp:new Date().toISOString()})});if(!O.ok)throw new Error("Failed to get response");const N=await O.json(),P={id:(Date.now()+1).toString(),type:"bot",content:N.response||N.message||"Sorry, I couldn't understand that. Please try again.",timestamp:new Date};u(U=>[...U,P])}catch(O){const N={id:(Date.now()+1).toString(),type:"bot",content:"Sorry, I'm having trouble connecting. Please try again later.",timestamp:new Date};u(P=>[...P,N]),console.error("Chat error:",O)}finally{g(!1)}};return f.jsxs(f.Fragment,{children:[!r&&f.jsx("button",{onClick:()=>s(!0),className:"fixed bottom-6 left-6 w-14 h-14 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all transform hover:scale-110 flex items-center justify-center z-40 animate-bounce",title:"Open chat",children:f.jsx(ty,{size:24})}),r&&f.jsxs("div",{className:"fixed bottom-6 left-6 w-96 h-[600px] bg-white rounded-2xl shadow-2xl flex flex-col z-50 overflow-hidden",children:[f.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white p-4 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-lg",children:"CampusHub Assistant"}),f.jsx("p",{className:"text-sm text-green-100",children:"Always here to help"})]}),f.jsx("button",{onClick:()=>s(!1),className:"p-2 hover:bg-green-700 rounded-lg transition-colors",children:f.jsx(ms,{size:20})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[a.map(S=>f.jsx("div",{className:`flex ${S.type==="user"?"justify-end":"justify-start"}`,children:f.jsxs("div",{className:`max-w-xs px-4 py-3 rounded-lg ${S.type==="user"?"bg-green-500 text-white rounded-br-none":"bg-white text-gray-900 border border-gray-200 rounded-bl-none"}`,children:[f.jsx("p",{className:"text-sm leading-relaxed",children:S.content}),f.jsx("span",{className:`text-xs mt-1 block ${S.type==="user"?"text-green-100":"text-gray-500"}`,children:S.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},S.id)),m&&f.jsx("div",{className:"flex justify-start",children:f.jsx("div",{className:"bg-white text-gray-900 border border-gray-200 px-4 py-3 rounded-lg rounded-bl-none",children:f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),f.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),f.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),f.jsx("div",{ref:y})]}),f.jsxs("form",{onSubmit:b,className:"border-t border-gray-200 p-4 bg-white flex gap-2",children:[f.jsx("input",{type:"text",value:c,onChange:S=>h(S.target.value),placeholder:"Type your message...",disabled:m,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all disabled:opacity-50"}),f.jsx("button",{type:"submit",disabled:m||!c.trim(),className:"px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105",children:f.jsx(ry,{size:18})})]})]})]})}function my(){const[i,r]=te.useState("marketplace"),[s,a]=te.useState(!1),[u,c]=te.useState(!1),[h,m]=te.useState("marketplace"),{user:g}=Di(),y=()=>{if(!g){a(!0);return}m(i),c(!0)},x=()=>{window.location.reload()};return f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(sy,{currentView:i,onViewChange:r,onAuthClick:()=>a(!0),onCreateClick:y}),i==="marketplace"?f.jsx(ly,{}):f.jsx(dy,{}),g&&f.jsx("button",{onClick:y,className:"fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all transform hover:scale-110 flex items-center justify-center md:hidden z-40",children:f.jsx(ih,{size:24})}),f.jsx(hy,{isOpen:s,onClose:()=>a(!1)}),f.jsx(fy,{isOpen:u,onClose:()=>c(!1),type:h,onSuccess:x}),f.jsx(py,{webhookUrl:"your_n8n_webhook_url_here"})]})}function gy(){return f.jsx(Kg,{children:f.jsx(my,{})})}hp.createRoot(document.getElementById("root")).render(f.jsx(te.StrictMode,{children:f.jsx(gy,{})}));
